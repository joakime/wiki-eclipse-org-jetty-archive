<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" class="client-nojs" lang="en"><head>
<meta charset="UTF-8"/>
<title>Jetty/Howto/High Load - Eclipsepedia</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Jetty/Howto/High_Load","wgTitle":"Jetty/Howto/High Load","wgCurRevisionId":348953,"wgRevisionId":348953,"wgArticleId":30030,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Jetty","Jetty Howto"],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Jetty/Howto/High_Load","wgRelevantArticleId":30030,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":!1,"dialogs":!1,"preview":
!1,"publish":!1},"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script>
<link href="../../load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor&amp;only=styles&amp;skin=solstice.css" rel="stylesheet"/>
<link rel="stylesheet" href="../../skins/solstice/public/css/styles.css%3F303.css" media="screen, print"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="../../load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=solstice"/>
<meta name="generator" content="MediaWiki 1.26.4"/>

<link href="https://wiki.eclipse.org/opensearch_desc.php" rel="search" type="application/opensearchdescription+xml" title="Eclipsepedia (en)"/>
<link type="application/rsd+xml" href="https://wiki.eclipse.org/api.php?action=rsd" rel="EditURI"/>
<link title="Eclipsepedia Atom feed" type="application/atom+xml" href="https://wiki.eclipse.org/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate"/>
<style type="text/css">
/*&lt;![CDATA[*/      
#jetty-nav {
  margin-bottom: 2em;
}
#jetty-nav ul {
  padding: 3px 0 1px 1em;
  margin:0;
  border-bottom: 1px solid #aaa;
}
#jetty-nav li {
  list-style: none;
  margin: 0;
  display: inline;
}
#jetty-nav li a {
  padding: 3px 0.5em;
  margin-left: 3px;
  border: 1px solid #aaa;
  border-bottom: none;
  background: #eef;
  text-decoration: none;
}
#jetty-nav li a:link { color: #448; }
#jetty-nav li a:visited { color: #667; }
#jetty-nav li a:hover {
  color: #000;
  background: #ccf;
  border-color: #227;
}
#jetty-nav li span#current a
{
  background: #fff;
  border-bottom: 1px solid #fff;
}
#jetty-nav li .selflink {
  padding: 3px 0.5em;
  margin-left: 3px;
  border: 1px solid #aaa;
  background: #fff;
  border-bottom: 1px solid #fff;
}
table.jetty-table, .jetty-table table {
  border: 1px solid #aaa;
  border-collapse: collapse;
}
.jetty-table td {
  border: 1px solid #aaa;
  padding: 0.5em 1em;
}
.jetty-table th {
  border: 1px solid #aaa;
  background-color: #eef;
}
.jetty-table caption {
  border: 1px #aaa solid;
  margin: 1em 0 0.2em 0;
  background-color: #ccf;
  font-weight: bold;
  font-size: 1.1em;
}
#content dl  {
  border-left: 1px #aaa solid;
  border-bottom: 1px #aaa solid;
}
#content dl dt {
  float: left;
  border-top: 1px solid #aaa;
  padding: 0.5em 0 0 0.5em;
}
#content dl dd {
  border: 1px solid #aaa;
  border-bottom: none;
}
#content .narrow-list dl  {
  width: 40em;
}
#content .narrow-list dl dt {
  width: 14em;
  line-height: 1.1em;
}
#content .narrow-list dl dd {
  margin: 0 0 0 15em;
  padding: 0.5em 1em;
}
#content .wide-list dl, #content dl {
  width: 80em;
}
#content .wide-list dl dt, #content dl dt {
  padding: 0.5em 1em;
  width: 15em;
}
#content .wide-list dl dd, #content dl dd {
  padding: 1em 1em 2em 2em;
  margin: 0 0 0 17em;
}
#content .unbounded-list dl, #content .unbounded-list dl dd, #content .unbounded-list dl dt {
  border: 0 none;
  width: auto;
  padding: 0 0 0 1em;
}
#content .unbounded-list dl dt {
}
#content p  {
  margin-bottom: 0.5em;
}
#content li  {
  line-height: 1.1em;
}
.infobox {
  padding: 0.5em 1em;
  background-color: #fff;
  float: right;
  margin: 0.5em;
}
/*]]&gt;*/       
</style>
<style type="text/css">/*&lt;![CDATA[*/
.source-xml {line-height: normal;}
.source-xml li, .source-xml pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for xml
 * CSS class: source-xml, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.xml.source-xml .de1, .xml.source-xml .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.xml.source-xml  {font-family:monospace;}
.xml.source-xml .imp {font-weight: bold; color: red;}
.xml.source-xml li, .xml.source-xml .li1 {font-weight: normal; vertical-align:top;}
.xml.source-xml .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.xml.source-xml .li2 {font-weight: bold; vertical-align:top;}
.xml.source-xml .es0 {color: #000099; font-weight: bold;}
.xml.source-xml .br0 {color: #66cc66;}
.xml.source-xml .sy0 {color: #66cc66;}
.xml.source-xml .st0 {color: #ff0000;}
.xml.source-xml .nu0 {color: #cc66cc;}
.xml.source-xml .sc-1 {color: #808080; font-style: italic;}
.xml.source-xml .sc0 {color: #00bbdd;}
.xml.source-xml .sc1 {color: #ddbb00;}
.xml.source-xml .sc2 {color: #339933;}
.xml.source-xml .sc3 {color: #009900;}
.xml.source-xml .re0 {color: #000066;}
.xml.source-xml .re1 {color: #000000; font-weight: bold;}
.xml.source-xml .re2 {color: #000000; font-weight: bold;}
.xml.source-xml .ln-xtra, .xml.source-xml li.ln-xtra, .xml.source-xml div.ln-xtra {background-color: #ffc;}
.xml.source-xml span.xtra { display:block; }

/*]]&gt;*/
</style>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
</head>
<body id="solstice" class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Jetty_Howto_High_Load skin-solstice action-view">

<a href="High Load.html#content" class="sr-only">Skip to main content</a>
<header class="header-wrapper" id="header-wrapper">
  <div class="clearfix toolbar-container-wrapper">
    <div class="container-fluid">
      <div class="text-right toolbar-row row hidden-print">
        <div class="col-md-24 row-toolbar-col">
               <ul class="list-inline">
                  <li id="pt-login">
            <a class="toolbar-link toolbar-login" href="https://wiki.eclipse.org/index.php?title=Special:UserLogin&amp;returnto=Jetty%2FHowto%2FHigh+Load">
              <i class="fa fa-sign-in fa-fw"/> Log in            </a>
          </li>
                <li><a class="toolbar-link toolbar-manage-cookies dropdown-toggle"><i class="fa fa-wrench"/> Manage Cookies</a></li>
      </ul>
            </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row" id="header-row">
      <div id="header-left" class="col-sm-5 col-md-4">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img width="160" class="logo-eclipse-default hidden-xs" alt="Eclipse.org logo" src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-foundation-white-orange.svg"/></a></div>
      </div>
      <div id="main-menu-wrapper" class="col-sm-19 col-md-20 margin-top-10">
        <div class="float-right hidden-xs" id="btn-call-for-action"><a class="btn btn-huge btn-warning" href="https://eclipse.org/downloads/"><i class="fa fa-download"/> Download</a></div>
        <div class="navbar yamm float-sm-right" id="main-menu">
          <div id="navbar-main-menu" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a target="_self" href="https://www.eclipse.org/projects/">Projects</a></li>
              <li><a target="_self" href="https://www.eclipse.org/org/workinggroups/">Working Groups</a></li>
              <li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li>
              <li class="dropdown visible-xs">
                <a class="dropdown-toggle" href="High Load.html#" data-toggle="dropdown">Community <b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li><a href="http://marketplace.eclipse.org">Marketplace</a></li>
                  <li><a href="http://events.eclipse.org">Events</a></li>
                  <li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li>
                  <li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li>
                  <li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li>
                  <li><a href="https://blogs.eclipse.org">Blogs</a></li>
                </ul>
              </li>
              <li class="dropdown visible-xs">
                <a href="High Load.html#" class="dropdown-toggle" data-toggle="dropdown">Participate <b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li>
                  <li><a href="https://www.eclipse.org/forums/">Forums</a></li>
                  <li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li>
                  <li><a href="https://wiki.eclipse.org/">Wiki</a></li>
                  <li><a href="https://wiki.eclipse.org/IRC">IRC</a></li>
                  <li><a href="https://www.eclipse.org/org/research/">Research</a></li>
                </ul>
              </li>
              <li class="dropdown visible-xs">
                <a data-toggle="dropdown" href="High Load.html#" class="dropdown-toggle">Eclipse IDE <b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li><a href="https://www.eclipse.org/downloads">Download</a></li>
                  <li><a href="https://www.eclipse.org/eclipseide">Learn More</a></li>
                  <li><a href="https://help.eclipse.org">Documentation</a></li>
                  <li><a href="https://www.eclipse.org/getting_started">Getting Started / Support</a></li>
                  <li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li>
                  <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
                  <li><a href="https://www.eclipse.org/forums/index.php/f/89/">Newcomer Forum</a></li>
                </ul>
              </li>
              <!-- More -->
              <li class="dropdown eclipse-more hidden-xs">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button">More<b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li>
                    <!-- Content container to add padding -->
                    <div class="yamm-content">
                      <div class="row">
                        <ul class="col-sm-8 list-unstyled">
                          <li>
                            <p><strong>Community</strong></p>
                          </li>
                          <li><a href="http://marketplace.eclipse.org">Marketplace</a></li>
                          <li><a href="http://events.eclipse.org">Events</a></li>
                          <li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li>
                          <li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li>
                          <li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li>
                          <li><a href="https://blogs.eclipse.org">Blogs</a></li>
                        </ul>
                        <ul class="col-sm-8 list-unstyled">
                          <li>
                            <p><strong>Participate</strong></p>
                          </li>
                          <li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li>
                          <li><a href="https://www.eclipse.org/forums/">Forums</a></li>
                          <li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li>
                          <li><a href="https://wiki.eclipse.org/">Wiki</a></li>
                          <li><a href="https://wiki.eclipse.org/IRC">IRC</a></li>
                          <li><a href="https://www.eclipse.org/org/research/">Research</a></li>
                        </ul>
                        <ul class="col-sm-8 list-unstyled">
                          <li>
                            <p><strong>Eclipse IDE</strong></p>
                          </li>
                          <li><a href="https://www.eclipse.org/downloads">Download</a></li>
                          <li><a href="https://www.eclipse.org/eclipseide">Learn More</a></li>
                          <li><a href="https://help.eclipse.org">Documentation</a></li>
                          <li><a href="https://www.eclipse.org/getting_started">Getting Started / Support</a></li>
                          <li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li>
                          <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
                          <li><a href="https://www.eclipse.org/forums/index.php/f/89/">Newcomer Forum</a></li>
                        </ul>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="navbar-header">
            <button data-toggle="collapse" class="navbar-toggle" data-target="#navbar-main-menu" type="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"/>
            <span class="icon-bar"/>
            <span class="icon-bar"/>
            <span class="icon-bar"/>
            </button>
            <div class="wrapper-logo-mobile"><a href="https://www.eclipse.org/" class="navbar-brand visible-xs"><img alt="Eclipse.org logo" class="logo-eclipse-default-mobile img-responsive" src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-foundation-white-orange.svg" width="160"/></a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<section id="breadcrumb" class="default-breadcrumbs hidden-print">
  <div class="container-fluid">
    <h3 class="sr-only">Breadcrumbs</h3>
    <div class="row">
      <div class="col-sm-24">
        <ol class="breadcrumb">
          <li><a href="https://www.eclipse.org/">Home</a></li>
          <li><a href="https://wiki.eclipse.org/Main_Page">Eclipse Wiki</a></li>
          <li class="active">Jetty/Howto/High Load</li>
        </ol>
      </div>
    </div>
  </div>
</section>
<!-- /#breadcrumb -->
<main>
<div class="container-fluid padding-15 padding-top-20">
    
    
    <!-- content -->
    <section id="content" class="mw-body container-full clearfix 0">
      <div id="mw-js-message" style="display:none;"/>

      
      <!-- bodyContent -->
      <div id="bodyContent">

        
                <!-- jumpto -->
        <div class="mw-jump" id="jump-to-nav">
          Jump to: <a href="High Load.html#mw-head">navigation</a>,
          <a href="High Load.html#p-search">search</a>
        </div>
        <!-- /jumpto -->
        
          <!-- leftcol -->
          <aside id="leftcol" class="col-md-4 noprint hidden-print">
                      <form id="form-eclipse-search" role="form" action="https://wiki.eclipse.org/index.php" class="input-group">
              <input placeholder="Search" type="search" accesskey="f" id="searchInput" title="Special:Search" class="search-query form-control" value="" name="search"/>

              <span class="input-group-btn">
                <button class="btn btn-default" value="search" name="fulltext" type="submit" id="mw-searchButton" title="Search the pages for this text">
                  <i class="fa fa-search"/>
                </button>
              </span>
            </form>
                      <select onchange="this.options[this.selectedIndex].value &amp;&amp; (window.location = this.options[this.selectedIndex].value);" class="form-control margin-top-10 margin-bottom-10 visible-xs visible-sm"><option class="fw-700 ">---Navigation---</option><option value="/Main_Page">Main Page</option><option value="/Eclipsepedia:Community_portal">Community portal</option><option value="/Eclipsepedia:Current_events">Current events</option><option value="/Special:RecentChanges">Recent changes</option><option value="/Special:Random">Random page</option><option value="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents">Help</option></select><ul class="ul-left-nav fa-ul hidden-print leftnav hidden-xs hidden-sm"><li class="separator"><span class="separator">Navigation</span></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a title="Visit the main page [z]" id="n-mainpage" accesskey="z" href="https://wiki.eclipse.org/Main_Page">Main Page</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a id="n-portal" title="About the project, what you can do, where to find things" href="https://wiki.eclipse.org/Eclipsepedia:Community_portal">Community portal</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a id="n-currentevents" title="Find background information on current events" href="https://wiki.eclipse.org/Eclipsepedia:Current_events">Current events</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a accesskey="r" title="A list of recent changes in the wiki [r]" id="n-recentchanges" href="https://wiki.eclipse.org/Special:RecentChanges">Recent changes</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a id="n-randompage" title="Load a random page [x]" accesskey="x" href="https://wiki.eclipse.org/Special:Random">Random page</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a id="n-help" title="The place to find out" href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents">Help</a></li></ul>            <select onchange="this.options[this.selectedIndex].value &amp;&amp; (window.location = this.options[this.selectedIndex].value);" class="form-control margin-top-10 margin-bottom-10 visible-xs visible-sm"><option class="fw-700 ">---Toolbox---</option><option value="/index.php?title=Jetty/Howto/High_Load&amp;action=info">Page information</option><option value="/index.php?title=Jetty/Howto/High_Load&amp;oldid=348953">Permanent link</option><option value="/index.php?title=Jetty/Howto/High_Load&amp;printable=yes">Printable version</option><option value="/Special:SpecialPages">Special pages</option><option value="/Special:RecentChangesLinked/Jetty/Howto/High_Load">Related changes</option><option value="/Special:WhatLinksHere/Jetty/Howto/High_Load">What links here</option></select><ul class="ul-left-nav fa-ul hidden-print leftnav hidden-xs hidden-sm"><li class="separator"><span class="separator">Toolbox</span></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a href="https://wiki.eclipse.org/index.php?title=Jetty/Howto/High_Load&amp;action=info" title="More information about this page" id="t-info">Page information</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a id="t-permalink" title="Permanent link to this revision of the page" href="https://wiki.eclipse.org/index.php?title=Jetty/Howto/High_Load&amp;oldid=348953">Permanent link</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a title="Printable version of this page [p]" id="t-print" accesskey="p" href="https://wiki.eclipse.org/index.php?title=Jetty/Howto/High_Load&amp;printable=yes" rel="alternate">Printable version</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a href="https://wiki.eclipse.org/Special:SpecialPages" accesskey="q" id="t-specialpages" title="A list of all special pages [q]">Special pages</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a href="https://wiki.eclipse.org/Special:RecentChangesLinked/Jetty/Howto/High_Load" id="t-recentchangeslinked" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a href="https://wiki.eclipse.org/Special:WhatLinksHere/Jetty/Howto/High_Load" title="A list of all wiki pages that link here [j]" id="t-whatlinkshere" accesskey="j">What links here</a></li></ul>                                  </aside>
          <!-- /leftcol -->

          <!-- mainContent -->
          <div class="col-md-20" id="mainContent">
                      <ul role="tablist" class="nav nav-tabs noprint hidden-print">
                       <li class="active" id="ca-nstab-main"><a title="View the content page [c]" accesskey="c" href="High Load.html" tabindex="-1">Page</a></li>
                        <li class="new" id="ca-talk"><a tabindex="-1" href="https://wiki.eclipse.org/index.php?title=Talk:Jetty/Howto/High_Load&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
                        <li id="ca-viewsource"><a accesskey="e" title="This page is protected.&#10;You can view its source [e]" tabindex="-1" href="https://wiki.eclipse.org/index.php?title=Jetty/Howto/High_Load&amp;action=edit">View source</a></li>
                        <li id="ca-history" class="collapsible"><a accesskey="h" title="Past revisions of this page [h]" tabindex="-1" href="https://wiki.eclipse.org/index.php?title=Jetty/Howto/High_Load&amp;action=history">History</a></li>
                      </ul>            <div class="tab-content background-white">
              <div class="tab-pane active" id="tab-pane-main-page-content">

                
                <h1 class="firstHeading page-header" id="firstHeading">
                  <span dir="auto">Jetty/Howto/High Load</span>
                </h1>
                <div id="main-page-content">
                                                      <!-- subtitle -->
                  <div id="contentSub" class="alert alert-small alert-warning"><span class="subpages">&lt; <a href="../../Jetty.html" title="Jetty">Jetty</a>‎ | <a title="Jetty/Howto" href="../Howto.html">Howto</a></span></div>
                  <!-- /subtitle -->
                  
                  
                  <div lang="en" dir="ltr" class="mw-content-ltr" id="mw-content-text"><p><br/>
</p><p><br/>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="High Load.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="High Load.html#Load_Generation_for_Load_Testing"><span class="tocnumber">2</span> <span class="toctext">Load Generation for Load Testing</span></a></li>
<li class="toclevel-1"><a href="High Load.html#Operating_System_Tuning"><span class="tocnumber">3</span> <span class="toctext">Operating System Tuning</span></a>
<ul>
<li class="toclevel-2"><a href="High Load.html#Linux"><span class="tocnumber">3.1</span> <span class="toctext">Linux</span></a>
<ul>
<li class="toclevel-3"><a href="High Load.html#TCP_Buffer_Sizes"><span class="tocnumber">3.1.1</span> <span class="toctext">TCP Buffer Sizes</span></a></li>
<li class="toclevel-3"><a href="High Load.html#Queue_Sizes"><span class="tocnumber">3.1.2</span> <span class="toctext">Queue Sizes</span></a></li>
<li class="toclevel-3"><a href="High Load.html#Ports"><span class="tocnumber">3.1.3</span> <span class="toctext">Ports</span></a></li>
<li class="toclevel-3"><a href="High Load.html#File_Descriptors"><span class="tocnumber">3.1.4</span> <span class="toctext">File Descriptors</span></a></li>
<li class="toclevel-3"><a href="High Load.html#Congestion_Control"><span class="tocnumber">3.1.5</span> <span class="toctext">Congestion Control</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="High Load.html#Mac_OS"><span class="tocnumber">3.2</span> <span class="toctext">Mac OS</span></a></li>
<li class="toclevel-2"><a href="High Load.html#Windows"><span class="tocnumber">3.3</span> <span class="toctext">Windows</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="High Load.html#Network_Tuning"><span class="tocnumber">4</span> <span class="toctext">Network Tuning</span></a></li>
<li class="toclevel-1"><a href="High Load.html#JVM_Tuning"><span class="tocnumber">5</span> <span class="toctext">JVM Tuning</span></a></li>
<li class="toclevel-1"><a href="High Load.html#Jetty_Tuning"><span class="tocnumber">6</span> <span class="toctext">Jetty Tuning</span></a>
<ul>
<li class="toclevel-2"><a href="High Load.html#Connectors"><span class="tocnumber">6.1</span> <span class="toctext">Connectors</span></a>
<ul>
<li class="toclevel-3"><a href="High Load.html#Acceptors"><span class="tocnumber">6.1.1</span> <span class="toctext">Acceptors</span></a></li>
<li class="toclevel-3"><a href="High Load.html#Low_Resource_Limits"><span class="tocnumber">6.1.2</span> <span class="toctext">Low Resource Limits</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="High Load.html#Thread_Pool"><span class="tocnumber">6.2</span> <span class="toctext">Thread Pool</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<div class="messagebox" style="background-color: #f9f6b7; border: 1px solid #c4c295; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px; font-size: 150%; color: white; background-color: #FF8888; padding: 50px">
<div style="float: left; margin-left: -40px;"><a class="image" href="https://wiki.eclipse.org/File:Warning2.png"><img width="35" height="35" alt="Warning2.png" src="../../images/3/37/Warning2.png"/></a></div>
<div>Jetty 7 and Jetty 8 are now EOL (End of Life)<br/>
<p><br/>
<br/>
<br/>
THIS IS NOT THE DOCUMENTATION YOU ARE LOOKING FOR!!!!!<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
All development and stable releases are being performed with Jetty 9 and Jetty 10.<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
This <b>wiki is now officially out of date</b> and all content has been moved to the <a rel="nofollow" href="http://www.eclipse.org/jetty/documentation" class="external text">Jetty Documentation Hub</a><br/> 
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
</p>
Direct Link to updated documentation: <a class="external free" rel="nofollow" href="http://www.eclipse.org/jetty/documentation/current/high-load.html">http://www.eclipse.org/jetty/documentation/current/high-load.html</a></div>
</div>
<p><br/>
Configuring Jetty for highload, albeit for load testing or for production, requires that the operating system, the JVM, jetty, the application, the network and the load generation all be tuned.
</p>
<h2><span class="mw-headline" id="Load_Generation_for_Load_Testing">Load Generation for Load Testing</span></h2>
<ul><li> The load generation machines must have their OS, JVM etc tuned just as much as the server machines.</li>
<li> The load generation should not be over the local network on the server machine, as this has unrealistic performance and latency as well as different packet sizes and transport characteristics.</li>
<li> The load generator should generate a realistic load:
<ul><li> A common mistake is that load generators often open relatively few connections that are kept totally busy sending as many requests as possible over each connection. This causes the measured throughput to be limited by request latency (see <a href="http://blogs.webtide.com/gregw/entry/lies_damned_lies_and_benchmarks" rel="nofollow" class="external text">Lies Damned Lies and Benchmarks</a> for an analysis of such an issue.</li>
<li> Another common mistake is to use a TCP/IP for a single request and to open many many short lived connections.  This will often result in accept queues filling and limitations due to file descriptor and/or port starvation.</li></ul></li>
<li> A load generator should well model the traffic profile from the normal clients of the server.  For browsers, this if mostly between 2 and 6 connections that are mostly idle and that are used in sporadic bursts with read times in between.  The connections are mostly long held HTTP/1.1 connections.   </li>
<li> Load generators should be written in asynchronous programming style, so that limited threads does not limit the maximum number of users that can be simulated.  If the generator is not asynchronous, then a thread pool of 2000 may only be able to simulate 500 or less users. The Jetty HttpClient is an ideal basis for building a load generator, as it is asynchronous and can be used to simulate many thousands of connections (see the <a rel="nofollow" href="http://cometd.org/documentation/howtos/loadtesting" class="external text">Cometd Load Tester</a> for a good example of a realistic load generator).</li></ul>
<h2><span id="Operating_System_Tuning" class="mw-headline">Operating System Tuning</span></h2>
<p>Both the server machine and any load generating machines need to be tuned to support many TCP/IP connections and high throughput.
</p>
<h3><span class="mw-headline" id="Linux">Linux</span></h3>
<p>Linux does a reasonable job of self configuring TCP/IP, but there are a few limits and defaults that that are best increased.  These can mostly be configured in /etc/security/limits.conf or via sysctl
</p>
<h4><span id="TCP_Buffer_Sizes" class="mw-headline">TCP Buffer Sizes</span></h4>
<p>These should be increased to at least 16MB for 10G paths and tune the autotuning (although buffer bloat now needs to be considered).
</p>
<pre> sysctl -w net.core.rmem_max=16777216
 sysctl -w net.core.wmem_max=16777216
 sysctl -w net.ipv4.tcp_rmem="4096 87380 16777216"
 sysctl -w net.ipv4.tcp_wmem="4096 16384 16777216"
</pre>
<h4><span id="Queue_Sizes" class="mw-headline">Queue Sizes</span></h4>
<p>net.core.somaxconn controls the size of the connection listening queue. The default value of 128 and if you are running a high-volume server and connections are getting refused at a TCP level, then you want to increase this. This is a very tweakable setting in such a case. Too high and you'll get resource problems as it tries to notify a server of a large number of connections and many will remain pending, and too low and you'll get refused connections:
</p>
<pre> sysctl -w net.core.somaxconn=4096
</pre>
<p>The net.core.netdev_max_backlog controls the size of the incoming packet queue for upper-layer (java) processing. The default (2048) may be increased and other related parameters (TODO MORE EXPLANATION) adjusted with:
</p>
<pre> sysctl -w net.core.netdev_max_backlog=16384
 sysctl -w net.ipv4.tcp_max_syn_backlog=8192
 sysctl -w net.ipv4.tcp_syncookies=1
</pre>
<h4><span id="Ports" class="mw-headline">Ports</span></h4>
<p>If many outgoing connections are made (eg on load generators), then the operating system may run low on ports.   Thus it is best to increase the port range used and allow reuse of sockets in TIME_WAIT:
</p>
<pre> sysctl -w net.ipv4.ip_local_port_range="1024 65535"
 sysctl -w net.ipv4.tcp_tw_recycle=1
</pre>
<h4><span id="File_Descriptors" class="mw-headline">File Descriptors</span></h4>
<p>Busy servers and load generators may run out of file descriptors as the system defaults are normally low.  These can be increased for a specific user in /etc/security/limits.conf:
</p>
<pre> theusername		hard nofile	40000
 theusername		soft nofile	40000
</pre>
<p><br/>
</p>
<h4><span id="Congestion_Control" class="mw-headline">Congestion Control</span></h4>
<p>Linux supports pluggable congestion control algorithms. To get a list of congestion control algorithms that are available in your kernel run:
</p>
<pre> sysctl net.ipv4.tcp_available_congestion_control
</pre>
<p>If cubic and/or htcp are not listed then you will need to research the control algorithms for your kernel.  You can try setting the control to cubic with:
</p>
<pre> sysctl -w net.ipv4.tcp_congestion_control=cubic
</pre>
<p><br/>
</p>
<h3><span id="Mac_OS" class="mw-headline">Mac OS</span></h3>
<h3><span id="Windows" class="mw-headline">Windows</span></h3>
<p>Seriously??? 
</p><p><br/>
</p>
<h2><span class="mw-headline" id="Network_Tuning">Network Tuning</span></h2>
<ul><li> Intermediaries such as nginx can use non persistent HTTP/1.0 connection.  Make sure that persistent HTTP/1.1 connections are used.</li></ul>
<h2><span id="JVM_Tuning" class="mw-headline">JVM Tuning</span></h2>
<ul><li> Tune the <a title="Jetty/Howto/Garbage Collection" href="Garbage Collection.html">Garbage Collection</a></li>
<li> Allocate sufficient memory</li>
<li> Use the -server option</li></ul>
<h2><span class="mw-headline" id="Jetty_Tuning">Jetty Tuning</span></h2>
<h3><span id="Connectors" class="mw-headline">Connectors</span></h3>
<h4><span class="mw-headline" id="Acceptors">Acceptors</span></h4>
<p>acceptors &gt;=1 &lt;= # CPUs
</p>
<h4><span class="mw-headline" id="Low_Resource_Limits">Low Resource Limits</span></h4>
<p>Must not be configured for less than the number of expected connections.
</p>
<h3><span class="mw-headline" id="Thread_Pool">Thread Pool</span></h3>
<p>It is very important to limit the task queue of Jetty. By default, the queue is unbounded! As a result, if 
under high load in excess of the processing power of the webapp, jetty will keep a lot of requests on the 
queue. Even after the load has stopped, Jetty will appear to have stopped responding to new requests as it 
still has lots of requests on the queue to handle.
</p><p>For a high reliability system, it should reject the excess requests immediately (fail fast) by using a queue
with a bounded capability. The capability (maximum queue length) should be calculated according to the 
"no-response" time tolerable. For example, if the webapp can handle 100 requests per second, and if you 
can allow it one minute to recover from excessive high load, you can set the queue capability to 60*100=6000. 
If it is set too low, it will reject requests too soon and can't handle normal load spike.
</p><p>Below is a sample configuration:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">"Server"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.server.Server"</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"ThreadPool"</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.util.thread.QueuedThreadPool"</span><span class="re2">&gt;</span></span>
        <span class="sc-1">&lt;!-- specify a bounded queue --&gt;</span>
        <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
           <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"java.util.concurrent.ArrayBlockingQueue"</span><span class="re2">&gt;</span></span>
              <span class="sc3"><span class="re1">&lt;Arg</span> <span class="re0">type</span>=<span class="st0">"int"</span><span class="re2">&gt;</span></span>6000<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
           <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"minThreads"</span><span class="re2">&gt;</span></span>10<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"maxThreads"</span><span class="re2">&gt;</span></span>200<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"detailedDump"</span><span class="re2">&gt;</span></span>false<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Configure the number of threads according to the webapp. That is, how many threads it needs
in order to achieve the best performance. Configure with mind to limiting memory usage maximum available.
Typically &gt;50 and &lt;500.
</p>
<!-- 
NewPP limit report
Cached time: 20211116152912
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.104 seconds
Real time usage: 0.118 seconds
Preprocessor visited node count: 75/1000000
Preprocessor generated node count: 481/1000000
Post‐expand include size: 9409/2097152 bytes
Template argument size: 8062/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   49.419      1 - -total
100.00%   49.419      1 - Template:Jetty_Howto
 39.10%   19.325      1 - Template:Jetty_Redirect
 26.31%   13.000      1 - Template:Message
 11.49%    5.678      1 - Template:Jetty
-->

<!-- Saved in parser cache with key my_wiki:pcache:idhash:30030-0!*!0!!en!5!* and timestamp 20211116152911 and revision id 348953
 -->
</div>
                                      <!-- catlinks -->
                    <div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a title="Special:Categories" href="https://wiki.eclipse.org/Special:Categories">Categories</a>: <ul><li><a title="Category:Jetty" href="https://wiki.eclipse.org/Category:Jetty">Jetty</a></li><li><a href="https://wiki.eclipse.org/Category:Jetty_Howto" title="Category:Jetty Howto">Jetty Howto</a></li></ul></div></div>                     <!-- /catlinks -->
                                  </div>
              </div>
            </div>
          </div>
        <!-- /maincontent -->

                <!-- printfooter -->
        <div class="printfooter">
        Retrieved from "<a href="https://wiki.eclipse.org/index.php?title=Jetty/Howto/High_Load&amp;oldid=348953" dir="ltr">https://wiki.eclipse.org/index.php?title=Jetty/Howto/High_Load&amp;oldid=348953</a>"        </div>
        <!-- /printfooter -->
        
        
        <!-- debughtml -->
                <!-- /debughtml -->

      </div>
      <!-- /bodyContent -->
    </section>
    <!-- /content -->

    <!-- footer -->
    
</div>
<div class="featured-footer featured-footer-newsletter background-secondary">
  <div class="container">
    <p id="footercredit">This page was last modified 01:23, 11 October 2013 by <a title="User:Kent.tong.mo.gmail.com (page does not exist)" href="https://wiki.eclipse.org/index.php?title=User:Kent.tong.mo.gmail.com&amp;action=edit&amp;redlink=1" class="new">Kent Tong</a>. Based on work by <a title="User:Jesse.mcconnell.gmail.com" href="https://wiki.eclipse.org/User:Jesse.mcconnell.gmail.com">Jesse McConnell</a> and <a title="User:Gregw.webtide.com (page does not exist)" href="https://wiki.eclipse.org/index.php?title=User:Gregw.webtide.com&amp;action=edit&amp;redlink=1" class="new">Greg Wilkins</a>.</p><p id="footerviews"/>  </div>
</div>
</main> <!-- /#main-content-container-row -->
<p class="noprint hidden-print" id="back-to-top">
  <a href="High Load.html#top" class="visible-xs">Back to the top</a>
</p>
<footer id="solstice-footer">
  <div class="container">
    <div class="row">
      <section class="col-sm-6 hidden-print" id="footer-eclipse-foundation">
        <h2 class="section-title">Eclipse Foundation</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/org/">About Us</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/contact.php">Contact Us</a></li>
          <li><a href="https://www.eclipse.org/donate">Donate</a></li>
          <li><a href="https://www.eclipse.org/membership/">Members</a></li>
          <li><a href="https://www.eclipse.org/org/documents/">Governance</a></li>
          <li><a href="https://www.eclipse.org/org/documents/Community_Code_of_Conduct.php">Code of Conduct</a></li>
          <li><a href="https://www.eclipse.org/artwork/">Logo and Artwork</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/directors.php">Board of Directors</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-legal">
        <h2 class="section-title">Legal</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li>
          <li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
          <li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
          <li><a href="https://www.eclipse.org/legal/epl-2.0/">Eclipse Public License</a></li>
          <li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li>
        </ul>
      </section>
      <section id="footer-useful-links" class="col-sm-6 hidden-print">
        <h2 class="section-title">Useful Links</h2>
        <ul class="nav">
          <li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li>
          <li><a href="https://help.eclipse.org/">Documentation</a></li>
          <li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li>
          <li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li>
          <li><a href="https://www.eclipse.org/forums/">Forums</a></li>
          <li><a href="https://marketplace.eclipse.org/">Marketplace</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-other">
        <h2 class="section-title">Other</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
          <li><a href="https://www.eclipse.org/projects">Projects</a></li>
          <li><a href="https://www.eclipse.org/org/workinggroups/">Working Groups</a></li>
          <li><a href="https://www.eclipse.org/org/research/">Research@Eclipse</a></li>
          <li><a href="https://www.eclipse.org/security/">Report a Vulnerability</a></li>
          <li><a href="https://status.eclipse.org">Service Status</a></li>
        </ul>
      </section>
      <div class="col-sm-24 margin-top-20">
        <div class="row">
          <div id="copyright" class="col-md-16">
            <p id="copyright-text">Copyright © Eclipse Foundation, Inc. All Rights Reserved.</p>
          </div>
          <div class="col-md-8 social-media">
            <ul class="list-inline">
              <li>
                <a class="social-media-link fa-stack fa-lg" href="https://twitter.com/EclipseFdn">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-twitter fa-stack-1x"/>
                </a>
              </li>
              <li>
                <a href="https://www.facebook.com/eclipse.org" class="social-media-link fa-stack fa-lg">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-facebook fa-stack-1x"/>
                </a>
              </li>
              <li>
                <a href="https://www.youtube.com/user/EclipseFdn" class="social-media-link fa-stack fa-lg">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-youtube fa-stack-1x"/>
                </a>
              </li>
              <li>
                <a class="social-media-link fa-stack fa-lg" href="https://www.linkedin.com/company/eclipse-foundation">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-linkedin fa-stack-1x"/>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <a href="High Load.html#" class="scrollup">Back to the top</a>
    </div>
  </div>
</footer>
    <!-- /footer -->
    <script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"skins.solstice":"loading","user":"ready","user.groups":"ready"});mw.loader.load("/load.php?debug=false\u0026lang=en\u0026modules=skins.solstice\u0026only=scripts\u0026skin=solstice");mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"]);
} );</script><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":654});
} );</script>  

</body></html>
