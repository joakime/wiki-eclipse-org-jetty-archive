<?xml version="1.0" encoding="utf-8"?>
<html><head>
<meta charset="UTF-8"/>
<title>Jetty/Feature/JNDI - Eclipsepedia</title>


<link rel="stylesheet" href="../../load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor&amp;only=styles&amp;skin=solstice.css"/>
<link rel="stylesheet" media="screen, print" href="../../styles.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>


<meta name="generator" content="MediaWiki 1.26.4"/>
<link href="../../eclipse.org-common/themes/solstice/public/images/favicon.ico" rel="shortcut icon"/>
<link type="application/opensearchdescription+xml" href="https://wiki.eclipse.org/opensearch_desc.php" rel="search" title="Eclipsepedia (en)"/>
<link href="https://wiki.eclipse.org/api.php?action=rsd" type="application/rsd+xml" rel="EditURI"/>
<link type="application/atom+xml" href="https://wiki.eclipse.org/index.php?title=Special:RecentChanges&amp;feed=atom" title="Eclipsepedia Atom feed" rel="alternate"/>
<style type="text/css">
/*&lt;![CDATA[*/      
#jetty-nav {
  margin-bottom: 2em;
}
#jetty-nav ul {
  padding: 3px 0 1px 1em;
  margin:0;
  border-bottom: 1px solid #aaa;
}
#jetty-nav li {
  list-style: none;
  margin: 0;
  display: inline;
}
#jetty-nav li a {
  padding: 3px 0.5em;
  margin-left: 3px;
  border: 1px solid #aaa;
  border-bottom: none;
  background: #eef;
  text-decoration: none;
}
#jetty-nav li a:link { color: #448; }
#jetty-nav li a:visited { color: #667; }
#jetty-nav li a:hover {
  color: #000;
  background: #ccf;
  border-color: #227;
}
#jetty-nav li span#current a
{
  background: #fff;
  border-bottom: 1px solid #fff;
}
#jetty-nav li .selflink {
  padding: 3px 0.5em;
  margin-left: 3px;
  border: 1px solid #aaa;
  background: #fff;
  border-bottom: 1px solid #fff;
}
table.jetty-table, .jetty-table table {
  border: 1px solid #aaa;
  border-collapse: collapse;
}
.jetty-table td {
  border: 1px solid #aaa;
  padding: 0.5em 1em;
}
.jetty-table th {
  border: 1px solid #aaa;
  background-color: #eef;
}
.jetty-table caption {
  border: 1px #aaa solid;
  margin: 1em 0 0.2em 0;
  background-color: #ccf;
  font-weight: bold;
  font-size: 1.1em;
}
#content dl  {
  border-left: 1px #aaa solid;
  border-bottom: 1px #aaa solid;
}
#content dl dt {
  float: left;
  border-top: 1px solid #aaa;
  padding: 0.5em 0 0 0.5em;
}
#content dl dd {
  border: 1px solid #aaa;
  border-bottom: none;
}
#content .narrow-list dl  {
  width: 40em;
}
#content .narrow-list dl dt {
  width: 14em;
  line-height: 1.1em;
}
#content .narrow-list dl dd {
  margin: 0 0 0 15em;
  padding: 0.5em 1em;
}
#content .wide-list dl, #content dl {
  width: 80em;
}
#content .wide-list dl dt, #content dl dt {
  padding: 0.5em 1em;
  width: 15em;
}
#content .wide-list dl dd, #content dl dd {
  padding: 1em 1em 2em 2em;
  margin: 0 0 0 17em;
}
#content .unbounded-list dl, #content .unbounded-list dl dd, #content .unbounded-list dl dt {
  border: 0 none;
  width: auto;
  padding: 0 0 0 1em;
}
#content .unbounded-list dl dt {
}
#content p  {
  margin-bottom: 0.5em;
}
#content li  {
  line-height: 1.1em;
}
.infobox {
  padding: 0.5em 1em;
  background-color: #fff;
  float: right;
  margin: 0.5em;
}
/*]]&gt;*/       
</style>
<style type="text/css">/*&lt;![CDATA[*/
.source-bash {line-height: normal;}
.source-bash li, .source-bash pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for bash
 * CSS class: source-bash, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.bash.source-bash .de1, .bash.source-bash .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.bash.source-bash  {font-family:monospace;}
.bash.source-bash .imp {font-weight: bold; color: red;}
.bash.source-bash li, .bash.source-bash .li1 {font-weight: normal; vertical-align:top;}
.bash.source-bash .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.bash.source-bash .li2 {font-weight: bold; vertical-align:top;}
.bash.source-bash .kw1 {color: #000000; font-weight: bold;}
.bash.source-bash .kw2 {color: #c20cb9; font-weight: bold;}
.bash.source-bash .kw3 {color: #7a0874; font-weight: bold;}
.bash.source-bash .co0 {color: #666666; font-style: italic;}
.bash.source-bash .co1 {color: #800000;}
.bash.source-bash .co2 {color: #cc0000; font-style: italic;}
.bash.source-bash .co3 {color: #000000; font-weight: bold;}
.bash.source-bash .co4 {color: #666666;}
.bash.source-bash .es1 {color: #000099; font-weight: bold;}
.bash.source-bash .es2 {color: #007800;}
.bash.source-bash .es3 {color: #007800;}
.bash.source-bash .es4 {color: #007800;}
.bash.source-bash .es5 {color: #780078;}
.bash.source-bash .es_h {color: #000099; font-weight: bold;}
.bash.source-bash .br0 {color: #7a0874; font-weight: bold;}
.bash.source-bash .sy0 {color: #000000; font-weight: bold;}
.bash.source-bash .st0 {color: #ff0000;}
.bash.source-bash .st_h {color: #ff0000;}
.bash.source-bash .nu0 {color: #000000;}
.bash.source-bash .re0 {color: #007800;}
.bash.source-bash .re1 {color: #007800;}
.bash.source-bash .re2 {color: #007800;}
.bash.source-bash .re4 {color: #007800;}
.bash.source-bash .re5 {color: #660033;}
.bash.source-bash .ln-xtra, .bash.source-bash li.ln-xtra, .bash.source-bash div.ln-xtra {background-color: #ffc;}
.bash.source-bash span.xtra { display:block; }

/*]]&gt;*/
</style>
<style type="text/css">/*&lt;![CDATA[*/
.source-xml {line-height: normal;}
.source-xml li, .source-xml pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for xml
 * CSS class: source-xml, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.xml.source-xml .de1, .xml.source-xml .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.xml.source-xml  {font-family:monospace;}
.xml.source-xml .imp {font-weight: bold; color: red;}
.xml.source-xml li, .xml.source-xml .li1 {font-weight: normal; vertical-align:top;}
.xml.source-xml .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.xml.source-xml .li2 {font-weight: bold; vertical-align:top;}
.xml.source-xml .es0 {color: #000099; font-weight: bold;}
.xml.source-xml .br0 {color: #66cc66;}
.xml.source-xml .sy0 {color: #66cc66;}
.xml.source-xml .st0 {color: #ff0000;}
.xml.source-xml .nu0 {color: #cc66cc;}
.xml.source-xml .sc-1 {color: #808080; font-style: italic;}
.xml.source-xml .sc0 {color: #00bbdd;}
.xml.source-xml .sc1 {color: #ddbb00;}
.xml.source-xml .sc2 {color: #339933;}
.xml.source-xml .sc3 {color: #009900;}
.xml.source-xml .re0 {color: #000066;}
.xml.source-xml .re1 {color: #000000; font-weight: bold;}
.xml.source-xml .re2 {color: #000000; font-weight: bold;}
.xml.source-xml .ln-xtra, .xml.source-xml li.ln-xtra, .xml.source-xml div.ln-xtra {background-color: #ffc;}
.xml.source-xml span.xtra { display:block; }

/*]]&gt;*/
</style>
<style type="text/css">/*&lt;![CDATA[*/
.source-java {line-height: normal;}
.source-java li, .source-java pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for java
 * CSS class: source-java, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.java.source-java .de1, .java.source-java .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.java.source-java  {font-family:monospace;}
.java.source-java .imp {font-weight: bold; color: red;}
.java.source-java li, .java.source-java .li1 {font-weight: normal; vertical-align:top;}
.java.source-java .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.java.source-java .li2 {font-weight: bold; vertical-align:top;}
.java.source-java .kw1 {color: #7F0055; font-weight: bold;}
.java.source-java .kw2 {color: #7F0055; font-weight: bold;}
.java.source-java .kw3 {color: #000000; font-weight: normal}
.java.source-java .kw4 {color: #7F0055; font-weight: bold;}
.java.source-java .co1 {color: #3F7F5F; font-style: italic;}
.java.source-java .co2 {color: #3F7F5F;}
.java.source-java .co3 {color: #3F7F5F; font-style: italic; font-weight: bold;}
.java.source-java .coMULTI {color: #3F5FBF; font-style: italic;}
.java.source-java .es0 {color: #000000;}
.java.source-java .br0 {color: #000000;}
.java.source-java .sy0 {color: #000000;}
.java.source-java .st0 {color: #2A00ff;}
.java.source-java .nu0 {color: #000000;}
.java.source-java .me1 {color: #000000;}
.java.source-java .me2 {color: #000000;}
.java.source-java .ln-xtra, .java.source-java li.ln-xtra, .java.source-java div.ln-xtra {background-color: #ffc;}
.java.source-java span.xtra { display:block; }

/*]]&gt;*/
</style>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Jetty_Feature_JNDI skin-solstice action-view" id="solstice">

<a href="JNDI.html#content" class="sr-only">Skip to main content</a>
<header id="header-wrapper" class="header-wrapper">
  <div class="clearfix toolbar-container-wrapper">
    <div class="container-fluid">
      <div class="text-right toolbar-row row hidden-print">
        <div class="col-md-24 row-toolbar-col">
               <ul class="list-inline">
                  <li id="pt-login">
            <a href="https://wiki.eclipse.org/index.php?title=Special:UserLogin&amp;returnto=Jetty%2FFeature%2FJNDI" class="toolbar-link toolbar-login">
              <i class="fa fa-sign-in fa-fw"/> Log in            </a>
          </li>
                <li><a class="toolbar-link toolbar-manage-cookies dropdown-toggle"><i class="fa fa-wrench"/> Manage Cookies</a></li>
      </ul>
            </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div id="header-row" class="row">
      <div id="header-left" class="col-sm-5 col-md-4">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-foundation-white-orange.svg" width="160" class="logo-eclipse-default hidden-xs" alt="Eclipse.org logo"/></a></div>
      </div>
      <div id="main-menu-wrapper" class="col-sm-19 col-md-20 margin-top-10">
        <div id="btn-call-for-action" class="float-right hidden-xs"><a class="btn btn-huge btn-warning" href="https://eclipse.org/downloads/"><i class="fa fa-download"/> Download</a></div>
        <div id="main-menu" class="navbar yamm float-sm-right">
          <div id="navbar-main-menu" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a target="_self" href="https://www.eclipse.org/projects/">Projects</a></li>
              <li><a target="_self" href="https://www.eclipse.org/org/workinggroups/">Working Groups</a></li>
              <li><a target="_self" href="https://www.eclipse.org/membership/">Members</a></li>
              <li class="dropdown visible-xs">
                <a href="JNDI.html#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li><a href="http://marketplace.eclipse.org">Marketplace</a></li>
                  <li><a href="http://events.eclipse.org">Events</a></li>
                  <li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li>
                  <li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li>
                  <li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li>
                  <li><a href="https://blogs.eclipse.org">Blogs</a></li>
                </ul>
              </li>
              <li class="dropdown visible-xs">
                <a href="JNDI.html#" class="dropdown-toggle" data-toggle="dropdown">Participate <b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li>
                  <li><a href="https://www.eclipse.org/forums/">Forums</a></li>
                  <li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li>
                  <li><a href="https://wiki.eclipse.org/">Wiki</a></li>
                  <li><a href="https://wiki.eclipse.org/IRC">IRC</a></li>
                  <li><a href="https://www.eclipse.org/org/research/">Research</a></li>
                </ul>
              </li>
              <li class="dropdown visible-xs">
                <a class="dropdown-toggle" data-toggle="dropdown" href="JNDI.html#">Eclipse IDE <b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li><a href="https://www.eclipse.org/downloads">Download</a></li>
                  <li><a href="https://www.eclipse.org/eclipseide">Learn More</a></li>
                  <li><a href="https://help.eclipse.org">Documentation</a></li>
                  <li><a href="https://www.eclipse.org/getting_started">Getting Started / Support</a></li>
                  <li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li>
                  <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
                  <li><a href="https://www.eclipse.org/forums/index.php/f/89/">Newcomer Forum</a></li>
                </ul>
              </li>
              <!-- More -->
              <li class="dropdown eclipse-more hidden-xs">
                <a role="button" data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"/></a>
                <ul class="dropdown-menu">
                  <li>
                    <!-- Content container to add padding -->
                    <div class="yamm-content">
                      <div class="row">
                        <ul class="col-sm-8 list-unstyled">
                          <li>
                            <p><strong>Community</strong></p>
                          </li>
                          <li><a href="http://marketplace.eclipse.org">Marketplace</a></li>
                          <li><a href="http://events.eclipse.org">Events</a></li>
                          <li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li>
                          <li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li>
                          <li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li>
                          <li><a href="https://blogs.eclipse.org">Blogs</a></li>
                        </ul>
                        <ul class="col-sm-8 list-unstyled">
                          <li>
                            <p><strong>Participate</strong></p>
                          </li>
                          <li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li>
                          <li><a href="https://www.eclipse.org/forums/">Forums</a></li>
                          <li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li>
                          <li><a href="https://wiki.eclipse.org/">Wiki</a></li>
                          <li><a href="https://wiki.eclipse.org/IRC">IRC</a></li>
                          <li><a href="https://www.eclipse.org/org/research/">Research</a></li>
                        </ul>
                        <ul class="col-sm-8 list-unstyled">
                          <li>
                            <p><strong>Eclipse IDE</strong></p>
                          </li>
                          <li><a href="https://www.eclipse.org/downloads">Download</a></li>
                          <li><a href="https://www.eclipse.org/eclipseide">Learn More</a></li>
                          <li><a href="https://help.eclipse.org">Documentation</a></li>
                          <li><a href="https://www.eclipse.org/getting_started">Getting Started / Support</a></li>
                          <li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li>
                          <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
                          <li><a href="https://www.eclipse.org/forums/index.php/f/89/">Newcomer Forum</a></li>
                        </ul>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="navbar-header">
            <button data-target="#navbar-main-menu" data-toggle="collapse" class="navbar-toggle" type="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"/>
            <span class="icon-bar"/>
            <span class="icon-bar"/>
            <span class="icon-bar"/>
            </button>
            <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img alt="Eclipse.org logo" class="logo-eclipse-default-mobile img-responsive" width="160" src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-foundation-white-orange.svg"/></a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<section class="default-breadcrumbs hidden-print" id="breadcrumb">
  <div class="container-fluid">
    <h3 class="sr-only">Breadcrumbs</h3>
    <div class="row">
      <div class="col-sm-24">
        <ol class="breadcrumb">
          <li><a href="https://www.eclipse.org/">Home</a></li>
          <li><a href="https://wiki.eclipse.org/Main_Page">Eclipse Wiki</a></li>
          <li class="active">Jetty/Feature/JNDI</li>
        </ol>
      </div>
    </div>
  </div>
</section>
<!-- /#breadcrumb -->
<main>
<div class="container-fluid padding-15 padding-top-20">
    
    
    <!-- content -->
    <section class="mw-body container-full clearfix 0" id="content">
      <div id="mw-js-message" style="display:none;"/>

      
      <!-- bodyContent -->
      <div id="bodyContent">

        
                <!-- jumpto -->
        <div id="jump-to-nav" class="mw-jump">
          Jump to: <a href="JNDI.html#mw-head">navigation</a>,
          <a href="JNDI.html#p-search">search</a>
        </div>
        <!-- /jumpto -->
        
          <!-- leftcol -->
          <aside id="leftcol" class="col-md-4 noprint hidden-print">
                      <form class="input-group" role="form" id="form-eclipse-search" action="https://wiki.eclipse.org/index.php">
              <input title="Special:Search" id="searchInput" name="search" type="search" value="" class="search-query form-control" accesskey="f" placeholder="Search"/>

              <span class="input-group-btn">
                <button type="submit" name="fulltext" id="mw-searchButton" title="Search the pages for this text" class="btn btn-default" value="search">
                  <i class="fa fa-search"/>
                </button>
              </span>
            </form>
                      <select onchange="this.options[this.selectedIndex].value &amp;&amp; (window.location = this.options[this.selectedIndex].value);" class="form-control margin-top-10 margin-bottom-10 visible-xs visible-sm"><option class="fw-700 ">---Navigation---</option><option value="/Main_Page">Main Page</option><option value="/Eclipsepedia:Community_portal">Community portal</option><option value="/Eclipsepedia:Current_events">Current events</option><option value="/Special:RecentChanges">Recent changes</option><option value="/Special:Random">Random page</option><option value="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents">Help</option></select><ul class="ul-left-nav fa-ul hidden-print leftnav hidden-xs hidden-sm"><li class="separator"><span class="separator">Navigation</span></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a accesskey="z" href="https://wiki.eclipse.org/Main_Page" title="Visit the main page [z]" id="n-mainpage">Main Page</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a title="About the project, what you can do, where to find things" id="n-portal" href="https://wiki.eclipse.org/Eclipsepedia:Community_portal">Community portal</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a title="Find background information on current events" id="n-currentevents" href="https://wiki.eclipse.org/Eclipsepedia:Current_events">Current events</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a title="A list of recent changes in the wiki [r]" id="n-recentchanges" accesskey="r" href="https://wiki.eclipse.org/Special:RecentChanges">Recent changes</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a accesskey="x" href="https://wiki.eclipse.org/Special:Random" title="Load a random page [x]" id="n-randompage">Random page</a></li>                <li class=""><i class="fa fa-angle-double-right orange fa-fw"/> <a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out" id="n-help">Help</a></li></ul>            <select class="form-control margin-top-10 margin-bottom-10 visible-xs visible-sm" onchange="this.options[this.selectedIndex].value &amp;&amp; (window.location = this.options[this.selectedIndex].value);"><option class="fw-700 ">---Toolbox---</option><option value="/index.php?title=Jetty/Feature/JNDI&amp;action=info">Page information</option><option value="/index.php?title=Jetty/Feature/JNDI&amp;oldid=372750">Permanent link</option><option value="/index.php?title=Jetty/Feature/JNDI&amp;printable=yes">Printable version</option><option value="/Special:SpecialPages">Special pages</option><option value="/Special:RecentChangesLinked/Jetty/Feature/JNDI">Related changes</option><option value="/Special:WhatLinksHere/Jetty/Feature/JNDI">What links here</option></select><ul class="ul-left-nav fa-ul hidden-print leftnav hidden-xs hidden-sm"><li class="separator"><span class="separator">Toolbox</span></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a href="https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;action=info" id="t-info" title="More information about this page">Page information</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a id="t-permalink" title="Permanent link to this revision of the page" href="https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;oldid=372750">Permanent link</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a accesskey="p" href="https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" id="t-print">Printable version</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a id="t-specialpages" title="A list of all special pages [q]" href="https://wiki.eclipse.org/Special:SpecialPages" accesskey="q">Special pages</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a accesskey="k" href="https://wiki.eclipse.org/Special:RecentChangesLinked/Jetty/Feature/JNDI" id="t-recentchangeslinked" title="Recent changes in pages linked from this page [k]">Related changes</a></li><li><i class="fa fa-angle-double-right orange fa-fw"/> <a title="A list of all wiki pages that link here [j]" id="t-whatlinkshere" accesskey="j" href="https://wiki.eclipse.org/Special:WhatLinksHere/Jetty/Feature/JNDI">What links here</a></li></ul>                                  </aside>
          <!-- /leftcol -->

          <!-- mainContent -->
          <div id="mainContent" class="col-md-20">
                      <ul role="tablist" class="nav nav-tabs noprint hidden-print">
                       <li id="ca-nstab-main" class="active"><a accesskey="c" href="JNDI.html" title="View the content page [c]" tabindex="-1">Page</a></li>
                        <li class="new" id="ca-talk"><a tabindex="-1" title="Discussion about the content page [t]" accesskey="t" href="https://wiki.eclipse.org/index.php?title=Talk:Jetty/Feature/JNDI&amp;action=edit&amp;redlink=1">Discussion</a></li>
                        <li id="ca-viewsource"><a tabindex="-1" title="This page is protected.&#10;You can view its source [e]" accesskey="e" href="https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;action=edit">View source</a></li>
                        <li class="collapsible" id="ca-history"><a href="https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;action=history" accesskey="h" title="Past revisions of this page [h]" tabindex="-1">History</a></li>
                      </ul>            <div class="tab-content background-white">
              <div id="tab-pane-main-page-content" class="tab-pane active">

                
                <h1 id="firstHeading" class="firstHeading page-header">
                  <span dir="auto">Jetty/Feature/JNDI</span>
                </h1>
                <div id="main-page-content">
                                                      <!-- subtitle -->
                  <div class="alert alert-small alert-warning" id="contentSub"><span class="subpages">&lt; <a href="../../Jetty.html" title="Jetty">Jetty</a>‎ | <a href="../Feature.html" title="Jetty/Feature">Feature</a></span></div>
                  <!-- /subtitle -->
                  
                  
                  <div class="mw-content-ltr" id="mw-content-text" dir="ltr" lang="en"><p><br/>
</p><p><br/>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="JNDI.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="JNDI.html#Feature"><span class="tocnumber">2</span> <span class="toctext">Feature</span></a></li>
<li class="toclevel-1"><a href="JNDI.html#Enabling_JNDI"><span class="tocnumber">3</span> <span class="toctext">Enabling JNDI</span></a>
<ul>
<li class="toclevel-2"><a href="JNDI.html#Quick_Setup"><span class="tocnumber">3.1</span> <span class="toctext">Quick Setup</span></a></li>
<li class="toclevel-2"><a href="JNDI.html#Detailed_Setup"><span class="tocnumber">3.2</span> <span class="toctext">Detailed Setup</span></a>
<ul>
<li class="toclevel-3"><a href="JNDI.html#Setting_up_the_list_of_Configurations"><span class="tocnumber">3.2.1</span> <span class="toctext">Setting up the list of Configurations</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Applying_JNDI_to_a_Single_Web_App"><span class="tocnumber">3.2.2</span> <span class="toctext">Applying JNDI to a Single Web App</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Adding_JNDI_Implementation_Jars_to_the_Jetty_Classpath"><span class="tocnumber">3.2.3</span> <span class="toctext">Adding JNDI Implementation Jars to the Jetty Classpath</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="JNDI.html#Example_Webapps"><span class="tocnumber">3.3</span> <span class="toctext">Example Webapps</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="JNDI.html#Using_JNDI"><span class="tocnumber">4</span> <span class="toctext">Using JNDI</span></a>
<ul>
<li class="toclevel-2"><a href="JNDI.html#Binding_Objects_into_Jetty_JNDI"><span class="tocnumber">4.1</span> <span class="toctext">Binding Objects into Jetty JNDI</span></a>
<ul>
<li class="toclevel-3"><a href="JNDI.html#Defining_Naming_Entries"><span class="tocnumber">4.1.1</span> <span class="toctext">Defining Naming Entries</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Configuring_env-entries"><span class="tocnumber">4.1.2</span> <span class="toctext">Configuring env-entries</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Configuring_resource-refs_and_resource-env-refs"><span class="tocnumber">4.1.3</span> <span class="toctext">Configuring resource-refs and resource-env-refs</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Configuring_DataSources"><span class="tocnumber">4.1.4</span> <span class="toctext">Configuring DataSources</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Configuring_JMS_Queues.2C_Topics_and_ConnectionFactories"><span class="tocnumber">4.1.5</span> <span class="toctext">Configuring JMS Queues, Topics and ConnectionFactories</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Configuring_Mail"><span class="tocnumber">4.1.6</span> <span class="toctext">Configuring Mail</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Configuring_XA_Transactions"><span class="tocnumber">4.1.7</span> <span class="toctext">Configuring XA Transactions</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Configuring_Links"><span class="tocnumber">4.1.8</span> <span class="toctext">Configuring Links</span></a></li>
<li class="toclevel-3"><a href="JNDI.html#Using_JNDI_without_a_web.xml"><span class="tocnumber">4.1.9</span> <span class="toctext">Using JNDI without a web.xml</span></a>
<ul>
<li class="toclevel-4"><a href="JNDI.html#With_WEB-INF.2Fjetty-env.xml_file"><span class="tocnumber">4.1.9.1</span> <span class="toctext">With WEB-INF/jetty-env.xml file</span></a></li>
<li class="toclevel-4"><a href="JNDI.html#With_jetty_xml_file_and_WEB-INF.2Fjetty-env.xml_file"><span class="tocnumber">4.1.9.2</span> <span class="toctext">With jetty xml file and WEB-INF/jetty-env.xml file</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="JNDI.html#Setting_JNDI_Entries_as_Global_or_Scoped"><span class="tocnumber">4.2</span> <span class="toctext">Setting JNDI Entries as Global or Scoped</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span id="Introduction" class="mw-headline">Introduction</span></h2>
<div class="messagebox" style="background-color: #f9f6b7; border: 1px solid #c4c295; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px; font-size: 150%; color: white; background-color: #FF8888; padding: 50px">
<div style="float: left; margin-left: -40px;"><a href="https://wiki.eclipse.org/File:Warning2.png" class="image"><img src="../../images/3/37/Warning2.png" height="35" width="35" alt="Warning2.png"/></a></div>
<div>Jetty 7 and Jetty 8 are now EOL (End of Life)<br/>
<p><br/>
<br/>
<br/>
THIS IS NOT THE DOCUMENTATION YOU ARE LOOKING FOR!!!!!<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
All development and stable releases are being performed with Jetty 9 and Jetty 10.<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
This <b>wiki is now officially out of date</b> and all content has been moved to the <a href="http://www.eclipse.org/jetty/documentation" class="external text" rel="nofollow">Jetty Documentation Hub</a><br/> 
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
</p>
Direct Link to updated documentation: <a rel="nofollow" href="http://www.eclipse.org/jetty/documentation/current/jndi.html" class="external free">http://www.eclipse.org/jetty/documentation/current/jndi.html</a></div>
</div>
<p><br/>
Jetty supports <code>java:comp/env</code> lookups in web apps. This is an optional feature and you need to do some setup. However, if you are using the <a class="external text" href="http://repo1.maven.org/maven2/org/mortbay/jetty/jetty-hightide" rel="nofollow">Hightide</a> distribution of Jetty, this feature is already fully enabled, so you can skip any setup steps, and just read the sections on how to put objects into Jetty's JNDI so that you can retrieve them at runtime.
</p>
<h2><span class="mw-headline" id="Feature">Feature</span></h2>
<h2><span id="Enabling_JNDI" class="mw-headline">Enabling JNDI</span></h2>
<div style="background-color: #def3fe; border: 1px solid #c5d7e0; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px;" class="messagebox">
<div style="float: left; margin-left: -40px;"><a class="image" href="https://wiki.eclipse.org/File:Note.png"><img src="../../images/c/cc/Note.png" height="35" width="35" alt="Note.png"/></a></div>
<div><b>Note:</b><br/>Skip this step if you are using the <a class="external text" href="http://repo1.maven.org/maven1/org/mortbay/jetty/jetty-hightide" rel="nofollow">Hightide</a> distribution of Jetty, because JNDI is automatically enabled.</div>
</div>
<p><br/>
</p>
<h3><span class="mw-headline" id="Quick_Setup">Quick Setup</span></h3>
<p>If you are using the standard distribution of jetty, and want to enable JNDI for all your webapps, then read this section. If you would like more information, see the Detailed Setup section.
</p><p>Step1:
Edit the $JETTY_HOME/start.ini file.
</p><p>Step2:
Modify the Server OPTIONS to include "plus", eg:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="re2">OPTIONS</span>=Server,jsp,jmx,resources,websocket,ext,plus</pre></div></div>
<p>Step3:
Near the bottom of the file, in the section on Configuration files, add the following line after <i>etc/jetty.xml</i>:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1">etc<span class="sy0">/</span>jetty-plus.xml</pre></div></div>
<p>Step4:
Save the file.
</p><p>You can now start jetty and use JNDI with your webapps. See below for information on how to add entries to the JNDI environment that can be looked up within webapps.
</p>
<h3><span id="Detailed_Setup" class="mw-headline">Detailed Setup</span></h3>
<h5><span class="mw-headline" id="Setting_up_the_list_of_Configurations">Setting up the list of Configurations</span></h5>
<p>When deploying a webapp, jetty has an extensible list of <a rel="nofollow" href="http://download.eclipse.org/jetty/stable-7/apidocs/org/eclipse/jetty/webapp/Configuration.html" class="external text">Configurations</a> that are applied to the webapp in a specific order. These Configurations do things like parse web.xml, set up the classpath for the webapp, parse WEB-INF/jetty-web.xml.
</p><p>To use JNDI with jetty, you need a couple of extra Configurations that do things like reading WEB-INF/jetty-env.xml, setting up a java:comp/env context, and hooking up JNDI entries from the environment into your web app. The listing below shows the 2 extra Configurations in the correct order they must be defined:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Array</span> <span class="re0">id</span>=<span class="st0">"plusConfig"</span> <span class="re0">type</span>=<span class="st0">"java.lang.String"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.WebInfConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.WebXmlConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.MetaInfConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.FragmentConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.plus.webapp.EnvConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span> <span class="sc-1">&lt;!-- add for jndi --&gt;</span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.plus.webapp.PlusConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>    <span class="sc-1">&lt;!-- add for jndi --&gt;</span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.JettyWebXmlConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.TagLibConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>  <span class="sc-1">&lt;!-- not needed for jetty-8 --&gt;</span>
<span class="sc3"><span class="re1">&lt;/Array<span class="re2">&gt;</span></span></span></pre></div></div>
<p>This augmented list of Configurations for JNDI is predefined for you in the <code>etc/jetty-plus.xml</code> file. 
</p><p>To have jetty use <code>etc/jetty-plus.xml</code> and therefore enable JNDI for all webapps, edit the <code>$JETTY_HOME/start.ini file</code>, and add the following line in the Configuration section near the bottom of the file:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="bash source-bash"><pre class="de1">etc<span class="sy0">/</span>jetty-plus.xml</pre></div></div>
<p>Now skip down to the section on Adding JNDI Implementation Jars to the Jetty Classpath. 
</p><p>If you only want to use JNDI with specific web apps, then read on.
</p><p><br/>
</p>
<h5><span id="Applying_JNDI_to_a_Single_Web_App" class="mw-headline">Applying JNDI to a Single Web App</span></h5>
<p>If you only have a few webapps that you want to use with JNDI, you can apply the augmented list of Configurations specifically to those webapps. To do that, create a context XML file for each web app, and set up the Configuration classes. Here's an example of how that would look:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">'wac'</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
 
  <span class="sc3"><span class="re1">&lt;Array</span> <span class="re0">id</span>=<span class="st0">"plusConfig"</span> <span class="re0">type</span>=<span class="st0">"java.lang.String"</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.WebInfConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.WebXmlConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.MetaInfConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.FragmentConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.plus.webapp.EnvConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span> <span class="sc-1">&lt;!-- add for JNDI --&gt;</span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.plus.webapp.PlusConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>    <span class="sc-1">&lt;!-- add for JNDI --&gt;</span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.JettyWebXmlConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Item<span class="re2">&gt;</span></span></span>org.eclipse.jetty.webapp.TagLibConfiguration<span class="sc3"><span class="re1">&lt;/Item<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Array<span class="re2">&gt;</span></span></span>
 
  <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"war"</span><span class="re2">&gt;</span><span class="re1">&lt;SystemProperty</span> <span class="re0">name</span>=<span class="st0">"jetty.home"</span> <span class="re0">default</span>=<span class="st0">"."</span><span class="re2">/&gt;</span></span>/webapps/my-cool-webapp<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"configurationClasses"</span><span class="re2">&gt;</span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">"plusConfig"</span><span class="re2">/&gt;</span><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
 
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Now you're ready for the next step, which is to put the JNDI jars onto jetty's classpath, described in Adding JNDI Implementation Jars to the Jetty Classpath.
</p><p><br/>
</p>
<h5><span class="mw-headline" id="Adding_JNDI_Implementation_Jars_to_the_Jetty_Classpath">Adding JNDI Implementation Jars to the Jetty Classpath</span></h5>
<p>Now that you have the JNDI configuration for the web app(s) set up, you need to ensure that the JNDI implementation Jars are on Jetty's classpath. These jars are optional, so won't be there by default. You add these into the classpath by using startup time OPTIONS.
</p><p>One way to do this is to supply it on the command line like so:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1">java <span class="re5">-jar</span> start.jar <span class="re2">OPTIONS</span>=plus</pre></div></div>
<p>Another, and more permanent, way of doing this is to edit the <code>$JETTY_HOME/start.ini</code> file and modify the OPTIONS section to include "plus":
</p><p><br/>
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="re2">OPTIONS</span>=Server,jsp,jmx,resources,websocket,ext,plus</pre></div></div>
<h3><span id="Example_Webapps" class="mw-headline">Example Webapps</span></h3>
<p>The <a class="external text" href="http://repo1.maven.org/maven1/org/mortbay/jetty/jetty-hightide" rel="nofollow">Hightide</a> distribution of jetty contains an example webapp to show you how to setup and access JNDI. When running the unmodified hightide distribution, it is available at <a class="external free" href="http://localhost:8080/test-jndi/" rel="nofollow">http://localhost:8080/test-jndi/</a>
</p><p>The source for this webapp can be found on jetty @ codehaus: 
</p><p>jetty-7: <a class="external free" href="http://git.codehaus.org/gitweb.cgi?p=jetty-project.git;a=tree;f=test-wars/test-jndi-webapp;h=52f283b8dbc3c9e86a4575e80c06a9cbea9816df;hb=refs/heads/master" rel="nofollow">http://git.codehaus.org/gitweb.cgi?p=jetty-project.git;a=tree;f=test-wars/test-jndi-webapp;h=52f283b8dbc3c9e86a4575e80c06a9cbea9816df;hb=refs/heads/master</a> 
</p><p>jetty-8: <a rel="nofollow" href="http://git.codehaus.org/gitweb.cgi?p=jetty-project.git;a=tree;f=test-wars/test-jndi-webapp;h=be7ff6136bfdbc348f3072e3bb0af8ed79b05ac0;hb=refs/heads/jetty-8" class="external free">http://git.codehaus.org/gitweb.cgi?p=jetty-project.git;a=tree;f=test-wars/test-jndi-webapp;h=be7ff6136bfdbc348f3072e3bb0af8ed79b05ac0;hb=refs/heads/jetty-8</a>
</p><p><br/>
</p>
<h2><span id="Using_JNDI" class="mw-headline">Using JNDI</span></h2>
<p>You can now configure naming resources to reference in a <code>web.xml</code> file and access from within the <code>java:comp/env</code> naming environment of the web app during execution. Specifically, you can configure support for the following <code>web.xml</code> elements:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;env-entry</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;resource-ref</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;resource-env-ref</span><span class="re2">/&gt;</span></span></pre></div></div>
<p><a href="JNDI.html#Configuring_env-entries">Configuring env-entries</a> shows you how to set up overrides for <code>&lt;env-entry&gt;</code> elements in <code>web.xml</code>. <a href="JNDI.html#Configuring_resource-refs_and_resource-env-refs">Configuring resource-refs and resource-env-refs</a> discusses how to configure support resources such as <code>javax.sql.DataSource</code>.
</p><p>You can also plug a JTA <code>javax.transaction.UserTransaction</code> implementation into Jetty so that web apps can lookup <code>java:comp/UserTransaction</code> to obtain a distributed transaction manager. See <a href="JNDI.html#Configuring_XA_Transactions">Configuring XA Transactions</a>.
</p><p>You can define your naming resources with three scopes:
</p>
<ol><li> jvm scope–the name is unique within the JVM.</li>
<li> server scope–the name is unique to the Server instance.</li>
<li> webapp scope–the name is unique to the WebAppContext instance.</li></ol>
<p>The section <a href="JNDI.html#Setting_JNDI_Entries_as_Global_or_Scoped">Setting JNDI Entries as Global or Scoped to a web app</a> explains <i>scoping</i>, and shows you how to use it. Essentially, scoping ensures that JNDI bindings from one web app do not interfere with the JNDI bindings of another–unless of course you want them to.
</p><p><br/>
</p>
<h3><span class="mw-headline" id="Binding_Objects_into_Jetty_JNDI">Binding Objects into Jetty JNDI</span></h3>
<p>You can bind four types of object into Jetty JNDI:
</p>
<ul><li> An ordinary POJO instance.</li>
<li> A <a rel="nofollow" class="external text" href="http://java.sun.com/j2se/1.5.0/docs/api/javax/naming/Reference.html">java.naming.Reference</a> instance.</li>
<li> An object instance that implements the <a href="http://java.sun.com/j2se/1.5.0/docs/api/javax/naming/Referenceable.html" class="external text" rel="nofollow">java.naming.Referenceable</a> interface.</li>
<li> A link between a name as referenced in <code>web.xml</code> and as referenced in the environment.</li></ul>
<p>The binding for all of these object types follows the same pattern:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=type of naming entry<span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>scope<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>name to bind as<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>the object to bind<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span></pre></div></div>
<h4><span class="mw-headline" id="Defining_Naming_Entries">Defining Naming Entries</span></h4>
<p>The <code>type of naming entry</code> can be:
</p>
<ul><li> <code>"org.eclipse.jetty.plus.jndi.EnvEntry"</code> for &lt;env-entry&gt;s.</li>
<li> <code>"org.eclipse.jetty.plus.jndi.Resource"</code> for all other type of resources.</li>
<li> <code>"org.eclipse.jetty.plus.jndi.Transaction"</code> for a JTA manager. For detailed information, see the <a href="JNDI.html#Configuring_XA_Transactions">Configuring XA Transactions</a> section.</li>
<li> <code>"org.eclipse.jetty.plus.jndi.Link"</code> for link between a <code>web.xml</code> resource name and a NamingEntry. For more information, see the <a href="JNDI.html#Configuring_Links">Configuring Links</a> section.</li></ul>
<p>You can define naming entries in three places:
</p>
<ol><li> <code>jetty.xml</code></li>
<li> <code>WEB-INF/jetty-env.xml</code></li>
<li> context xml file</li></ol>
<p>Naming entries defined in a <code>jetty.xml</code> file are scoped at either the JVM level or the Server level. Naming entries in a <code>jetty-env.xml</code> file are scoped to the web app in which the file resides. While you can enter JVM or Server scopes if you choose, we do not recommend doing so. In most cases you define all naming entries that you want visible to a particular Server instance, or to the JVM as a whole in a <code>jetty.xml</code> file. Entries in a context xml file are scoped at the level of the web app to which they apply, although once again, you can supply a less strict scoping level of Server or JVM if you choose.
</p>
<h4><span class="mw-headline" id="Configuring_env-entries">Configuring env-entries</span></h4>
<p>Sometimes it is useful to pass configuration information to a web app at runtime that you either cannot or cannot conveniently code into a <code>web.xml</code> <code>&lt;env-entry&gt;</code>. In such cases, you can use <code>org.eclipse.jetty.plus.jndi.EnvEntry</code>, and even override an entry of the same name in <code>web.xml</code>.
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.EnvEntry"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>mySpecialValue<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg</span> <span class="re0">type</span>=<span class="st0">"java.lang.Integer"</span><span class="re2">&gt;</span></span>4000<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg</span> <span class="re0">type</span>=<span class="st0">"boolean"</span><span class="re2">&gt;</span></span>true<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span></pre></div></div>
<p>This example defines a virtual <code> env-entry </code> called <code>mySpecialValue</code> with value <code>4000</code> that is unique within the whole JVM. It is put into JNDI at <code>java:comp/env/mySpecialValue</code> for _every_ web app deployed. Moreover, the boolean argument indicates that this value overrides an <code>env-entry</code> of the same name in <code>web.xml</code>. If you don't want to override, then omit this argument, or set it to <code>false</code>.
</p><p>See <a href="JNDI.html#Setting_JNDI_Entries_as_Global_or_Scoped">Setting JNDI Entries as Global or Scoped</a> for information on other scopes.
</p><p>The Servlet Specification allows binding only the following object types to an <code>env-entry</code>:
</p>
<ul><li> java.lang.String</li>
<li> java.lang.Integer</li>
<li> java.lang.Float</li>
<li> java.lang.Double</li>
<li> java.lang.Long</li>
<li> java.lang.Short</li>
<li> java.lang.Character</li>
<li> java.lang.Byte</li>
<li> java.lang.Boolean</li></ul>
<p>However, Jetty is a little more flexible and allows you to also bind custom POJOs, <a href="http://java.sun.com/j2se/1.5.0/docs/api/javax/naming/Reference.html" class="external text" rel="nofollow">javax.naming.References</a> and <a rel="nofollow" href="http://java.sun.com/j2se/1.5.0/docs/api/javax/naming/Referenceable.html" class="external text">javax.naming.Referenceables</a>. Be aware that if you take advantage of this feature, your web application is *not portable*.
</p><p>To use the <code>env-entry</code> configured above, use code in your servlet/filter/etc., such as:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="java source-java"><pre class="de1"><span class="kw1">import</span> <span class="co2">javax.naming.InitialContext</span><span class="sy0">;</span>
 
<span class="kw3">InitialContext</span> ic <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">InitialContext</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw3">Integer</span> mySpecialValue <span class="sy0">=</span> <span class="br0">(</span><span class="kw3">Integer</span><span class="br0">)</span>ic.<span class="me1">lookup</span><span class="br0">(</span><span class="st0">"java:comp/env/mySpecialValue"</span><span class="br0">)</span><span class="sy0">;</span></pre></div></div>
<h4><span id="Configuring_resource-refs_and_resource-env-refs" class="mw-headline">Configuring resource-refs and resource-env-refs</span></h4>
<p>You can configure any type of resource that you want to refer to in a <code>web.xml</code> file as a <code>&lt;resource-ref&gt;</code> or <code>&lt;resource-env-ref&gt;</code>, using the <code>org.eclipse.jetty.plus.jndi.Resource</code> type of naming entry. You provide the scope, the name of the object (relative to <code>java:comp/env</code>) and a POJO instance or a  <code>javax.naming.Reference</code> instance or <code>javax.naming.Referenceable</code> instance.
</p><p>The <a rel="nofollow" href="http://jcp.org/aboutJava/communityprocess/pr/jsr244/index.html" class="external text">J2EE Specification</a> recommends that DataSources be stored in <code>java:comp/env/jdbc</code>, JMS connection factories under <code>java:comp/env/jms</code>, JavaMail connection factories under <code>java:comp/env/mail</code> and URL connection factories under <code>java:comp/env/url</code>. For example:
</p>
<table>
<tbody><tr><td>Resource Type</td><td> </td><td>Name in <code>jetty.xml</code></td><td> </td><td>Environment Lookup</td></tr>
<tr><td>javax.sql.DataSource</td><td> </td><td>jdbc/myDB</td><td> </td><td>java:comp/env/jdbc/myDB</td></tr>
<tr><td>javax.jms.QueueConnectionFactory</td><td> </td><td>jms/myQueue</td><td> </td><td>java:comp/env/jms/myQueue</td></tr>
<tr><td>javax.mail.Session</td><td> </td><td>mail/myMailService</td><td> </td><td>java:comp/env/mail/myMailService</td></tr>
</tbody></table>
<h4><span class="mw-headline" id="Configuring_DataSources">Configuring DataSources</span></h4>
<p>Here is an example of configuring a <code>javax.sql.DataSource</code>. Jetty can use any DataSource implementation available on its classpath. In this example, the DataSource is from the <a rel="nofollow" class="external text" href="http://db.apache.org/derby">Derby</a> relational database, but you can use any implementation of a <code>javax.sql.DataSource</code>. This example, configures it as scoped to a web app with the id of <i>wac</i>:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">'wac'</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"myds"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">"wac"</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/myds<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.apache.derby.jdbc.EmbeddedDataSource"</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"DatabaseName"</span><span class="re2">&gt;</span></span>test<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"createDatabase"</span><span class="re2">&gt;</span></span>create<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>The code above creates an instance of <code>org.apache.derby.jdbc.EmbeddedDataSource</code>, calls the two setter methods <code>setDatabaseName("test");</code> and <code>setCreateDatabase("create");</code> and binds it into the JNDI scope for the web app. If you have the appropriate <code>&lt;resource-ref&gt;</code> setup in your <code>web.xml</code>, then it is available from application lookups as <code>java:comp/env/jdbc/myds</code>.
</p><p>Here's an example web.xml declaration for the datasource above:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1">  <span class="sc3"><span class="re1">&lt;resource-ref<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-ref-name<span class="re2">&gt;</span></span></span>jdbc/myds<span class="sc3"><span class="re1">&lt;/res-ref-name<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-type<span class="re2">&gt;</span></span></span>javax.sql.DataSource<span class="sc3"><span class="re1">&lt;/res-type<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-auth<span class="re2">&gt;</span></span></span>Container<span class="sc3"><span class="re1">&lt;/res-auth<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/resource-ref<span class="re2">&gt;</span></span></span></pre></div></div>
<p>To lookup your DataSource in your servlet/filter/etc.:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="java source-java"><pre class="de1"><span class="kw1">import</span> <span class="co2">javax.naming.InitialContext</span><span class="sy0">;</span>
<span class="kw1">import</span> <span class="co2">javax.sql.DataSource</span><span class="sy0">;</span>
 
<span class="kw3">InitialContext</span> ic <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">InitialContext</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
DataSource myDS <span class="sy0">=</span> <span class="br0">(</span>DataSource<span class="br0">)</span>ic.<span class="me1">lookup</span><span class="br0">(</span><span class="st0">"java:comp/env/jdbc/myds"</span><span class="br0">)</span><span class="sy0">;</span></pre></div></div>
<div class="messagebox" style="background-color: #def3fe; border: 1px solid #c5d7e0; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px;">
<div style="float: left; margin-left: -40px;"><a href="https://wiki.eclipse.org/File:Note.png" class="image"><img src="../../images/c/cc/Note.png" height="35" width="35" alt="Note.png"/></a></div>
<div><b>Careful!</b><br/>When configuring Resources, ensure that the type of object you configure matches the type of object you expect to look up in <code>java:comp/env</code>. For database connection factories, this means that the object you register as a Resource *must* implement the <code>javax.sql.DataSource</code> interface.</div>
</div>
<p><br/>
</p>
<h4><span class="mw-headline" id="Configuring_JMS_Queues.2C_Topics_and_ConnectionFactories">Configuring JMS Queues, Topics and ConnectionFactories</span></h4>
<p>Jetty can bind any implementation of the JMS destinations and connection factories. You just need to ensure the implementation Jars are available on Jetty's classpath. Here is an example of binding an <a href="http://activemq.apache.org/" class="external text" rel="nofollow">ActiveMQ</a> in JVM connection factory:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">'wac'</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"cf"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">'wac'</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jms/connectionFactory<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.apache.activemq.ActiveMQConnectionFactory"</span><span class="re2">&gt;</span></span>
       <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>vm://localhost?broker.persistent=false<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>For more information, see <a rel="nofollow" href="http://activemq.apache.org/" class="external text">ActiveMQ</a> and Jetty <a class="new" href="https://wiki.eclipse.org/index.php?title=Integrating_with_ActiveMQ&amp;action=edit&amp;redlink=1" title="Integrating with ActiveMQ (page does not exist)">Integrating with ActiveMQ</a>.
</p>
<h4><span id="Configuring_Mail" class="mw-headline">Configuring Mail</span></h4>
<p>Jetty also provides infrastructure for access to javax.mail.Sessions from within an application:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">'wac'</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"mail"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">"wac"</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>mail/Session<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.jndi.factories.MailSessionReference"</span><span class="re2">&gt;</span></span>
         <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"user"</span><span class="re2">&gt;</span></span>fred<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"password"</span><span class="re2">&gt;</span></span>OBF:1xmk1w261z0f1w1c1xmq<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"properties"</span><span class="re2">&gt;</span></span>
           <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"java.util.Properties"</span><span class="re2">&gt;</span></span>
             <span class="sc3"><span class="re1">&lt;Put</span> <span class="re0">name</span>=<span class="st0">"mail.smtp.host"</span><span class="re2">&gt;</span></span>XXX<span class="sc3"><span class="re1">&lt;/Put<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;Put</span> <span class="re0">name</span>=<span class="st0">"mail.from"</span><span class="re2">&gt;</span></span>me@me<span class="sc3"><span class="re1">&lt;/Put<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;Put</span> <span class="re0">name</span>=<span class="st0">"mail.debug"</span><span class="re2">&gt;</span></span>true<span class="sc3"><span class="re1">&lt;/Put<span class="re2">&gt;</span></span></span>
           <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>The setup above creates an instance of the <code>org.eclipse.jetty.jndi.factories.MailSessionReference</code> class, calls its setter methods <code>setUser("fred");</code>, <code>setPassword("OBF:1xmk1w261z0f1w1c1xmq");</code> to set up the authentication for the mail system, and populates a set of Properties, setting them on the MailSessionReference instance. The result is that an application can look up <code>java:comp/env/mail/Session</code> at runtime and obtain access to a <code>javax.mail.Session</code> that has the necessary configuration to permit it to send email via SMTP.
</p><p>{tip}
You can set the password to be plain text, or use Jetty's <a href="../Howto/Secure Passwords.html" title="Jetty/Howto/Secure Passwords">password obfuscation</a> mechanism to make the config file more secure from prying eyes. But you cannot use the other Jetty encryption mechanisms of MD5 and Crypt because then the original password cannot be recovered, which is necessary for the mail system.
{tip}
</p>
<h4><span class="mw-headline" id="Configuring_XA_Transactions">Configuring XA Transactions</span></h4>
<p>If you want to perform distributed transactions with your resources, you need a <i>transaction manager</i> that supports the JTA interfaces that you can look up as <code>java:comp/UserTransaction</code> in your web app. Jetty does not ship with one as standard, but you can plug in the one you prefer. You can configure a transaction manager using the <code>org.eclipse.jetty.plus.jndi.Transaction</code> object in a Jetty config file. The following example configures the <a class="external text" href="http://www.atomikos.com" rel="nofollow">Atomikos</a> transaction manager:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"tx"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Transaction"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"com.atomikos.icatch.jta.UserTransactionImp"</span><span class="re2">/&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Alternatively, you can use the [http:repo1.maven.org/maven1/org/mortbay/jetty/jetty-hightide/ Hightide] distribution of jetty instead, which comes with the <a rel="nofollow" class="external text" href="http://www.atomikos.com">Atomikos</a> transaction system pre-configured.
</p><p><br/>
</p>
<h4><span class="mw-headline" id="Configuring_Links">Configuring Links</span></h4>
<p>The name you set for your NamingEntry should be the same name you use for it in <code>web.xml</code>. For example:
</p><p>In a context xml file:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">'wac'</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"myds"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">"wac"</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/mydatasource<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.apache.derby.jdbc.EmbeddedDataSource"</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"DatabaseName"</span><span class="re2">&gt;</span></span>test<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"createDatabase"</span><span class="re2">&gt;</span></span>create<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>and in <code>web.xml</code>:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1">  <span class="sc3"><span class="re1">&lt;resource-ref<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-ref-name<span class="re2">&gt;</span></span></span>jdbc/mydatasource<span class="sc3"><span class="re1">&lt;/res-ref-name<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-type<span class="re2">&gt;</span></span></span>javax.sql.DataSource<span class="sc3"><span class="re1">&lt;/res-type<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-auth<span class="re2">&gt;</span></span></span>Container<span class="sc3"><span class="re1">&lt;/res-auth<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;injection-target<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;injection-target-class<span class="re2">&gt;</span></span></span>com.acme.JNDITest<span class="sc3"><span class="re1">&lt;/injection-target-class<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;injection-target-name<span class="re2">&gt;</span></span></span>myDatasource<span class="sc3"><span class="re1">&lt;/injection-target-name<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/injection-target<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/resource-ref<span class="re2">&gt;</span></span></span></pre></div></div>
<p>You can refer to it in <code>web.xml</code> by a different name, and link it to the name in your <code>org.eclipse.jetty.plus.jndi.Resource</code> by using an <code>org.eclipse.jetty.plus.jndi.Link</code> type of NamingEntry. For the example above, you can refer to the <code>jdbc/mydatasource</code> resource as <code>jdbc/mydatasource1</code> as follows:
</p><p>In a context xml file:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">'wac'</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"myds"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">"wac"</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/mydatasource<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.apache.derby.jdbc.EmbeddedDataSource"</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"DatabaseName"</span><span class="re2">&gt;</span></span>test<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"createDatabase"</span><span class="re2">&gt;</span></span>create<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>in a <code>jetty-env.xml</code> file:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1">  <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"map1"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Link"</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">'wac'</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/mydatasource1<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span> <span class="sc-1">&lt;!-- name in web.xml --&gt;</span>
    <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/mydatasource<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>  <span class="sc-1">&lt;!-- name in container environment --&gt;</span>
  <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span></pre></div></div>
<p>and in <code>web.xml</code>:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1">  <span class="sc3"><span class="re1">&lt;resource-ref<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-ref-name<span class="re2">&gt;</span></span></span>jdbc/mydatasource1<span class="sc3"><span class="re1">&lt;/res-ref-name<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-type<span class="re2">&gt;</span></span></span>javax.sql.DataSource<span class="sc3"><span class="re1">&lt;/res-type<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;res-auth<span class="re2">&gt;</span></span></span>Container<span class="sc3"><span class="re1">&lt;/res-auth<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;injection-target<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;injection-target-class<span class="re2">&gt;</span></span></span>com.acme.JNDITest<span class="sc3"><span class="re1">&lt;/injection-target-class<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;injection-target-name<span class="re2">&gt;</span></span></span>myDatasource<span class="sc3"><span class="re1">&lt;/injection-target-name<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/injection-target<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/resource-ref<span class="re2">&gt;</span></span></span></pre></div></div>
<p>This can be useful when you cannot change <code>web.xml</code> but need to link it to a resource in your deployment environment.
</p>
<h4><span class="mw-headline" id="Using_JNDI_without_a_web.xml">Using JNDI without a web.xml</span></h4>
<p>Usually, you define your naming entries in a WEB-INF/jetty-env.xml file or a $JETTY_HOME/etc file (or programmatically) and then link them into your webapp's java:comp/env namespace via entries in WEB-INF/web.xml.
</p><p>However, as WEB-INF/web.xml files are not required for a valid webapp, you can use some xml (or code) to do the linking. Here's how.
</p>
<h5><span id="With_WEB-INF.2Fjetty-env.xml_file" class="mw-headline">With WEB-INF/jetty-env.xml file</span></h5>
<p>If you have defined your naming entry in a WEB-INF/jetty-env.xml file, you can simply bind it into your webapp's java:comp/env namespace by adding a single line:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1">  <span class="sc3"><span class="re1">&lt;New</span>  <span class="re0">id</span>=<span class="st0">"jdbc/myds"</span>  <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/myds<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;New</span>  <span class="re0">class</span>=<span class="st0">"com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource"</span><span class="re2">&gt;</span></span>
         <span class="sc3"><span class="re1">&lt;Set</span>  <span class="re0">name</span>=<span class="st0">"Url"</span><span class="re2">&gt;</span></span>jdbc:mysql://localhost:3306/chat<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;Set</span>  <span class="re0">name</span>=<span class="st0">"User"</span><span class="re2">&gt;</span></span>root<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;Set</span>  <span class="re0">name</span>=<span class="st0">"Password"</span><span class="re2">&gt;</span></span>sillyness<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;Call</span> <span class="re0">name</span>=<span class="st0">"bindToENC"</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/myfoo<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>  <span class="sc-1">&lt;!-- binds jdbc/myds to java:comp/env/jdbc/myfoo for this webapp --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/Call<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
</p>
<h5><span class="mw-headline" id="With_jetty_xml_file_and_WEB-INF.2Fjetty-env.xml_file">With jetty xml file and WEB-INF/jetty-env.xml file</span></h5>
<p>If you have defined your naming entries in xml files in jetty's etc/ directory, you can bind them into your webapp's namespace by using a WEB-INF/jetty-env.xml file to do the linking.
</p><p>Assume the following naming entry is in $JETTY_HOME/etc/jetty-myjndi.xml:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1">  <span class="sc3"><span class="re1">&lt;New</span>  <span class="re0">id</span>=<span class="st0">"jdbc/myds"</span>  <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/myds<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;New</span>  <span class="re0">class</span>=<span class="st0">"com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource"</span><span class="re2">&gt;</span></span>
         <span class="sc3"><span class="re1">&lt;Set</span>  <span class="re0">name</span>=<span class="st0">"Url"</span><span class="re2">&gt;</span></span>jdbc:mysql://localhost:3306/chat<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;Set</span>  <span class="re0">name</span>=<span class="st0">"User"</span><span class="re2">&gt;</span></span>root<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;Set</span>  <span class="re0">name</span>=<span class="st0">"Password"</span><span class="re2">&gt;</span></span>sillyness<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
Then you can link jdbc/myds into your webapp's namespace as java:comp/env/jdbc/myfoo by using a WEB-INF/jetty-env.xml file:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1">   <span class="sc3"><span class="re1">&lt;Call</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.NamingEntryUtil"</span> <span class="re0">name</span>=<span class="st0">"bindToENC"</span><span class="re2">&gt;</span></span>
       <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>    <span class="sc-1">&lt;!-- scope of naming entry, ie same as first argument to your naming entry definition, in this case, null --&gt;</span>
       <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/myfoo<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jdbc/myds<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;/Call<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Note that you *must* use a WEB-INF/jetty-env.xml file to call the "bindToENC" method and *not* a context xml file, as the latter is not interpreted at the correct phase of the webapp's deployment to have the java:comp/env namespace created.
</p><p><br/>
</p>
<h3><span class="mw-headline" id="Setting_JNDI_Entries_as_Global_or_Scoped">Setting JNDI Entries as Global or Scoped</span></h3>
<p>As previously stated, you can control the visibility of your JNDI naming entries within your JVM, Server and WebAppContext instances. Naming entries at the _jvm scope_ are visible by any application code, and are available to bind to <code>java:comp/env</code>. Naming entries at the _Server scope_ do not interfere with entries of the same name in a different Server instance, and are available to bind to <code>java:comp/env</code> of any web apps deployed to that Server instance. Finally, the most specific scope are entries at the _webapp scope_. An entry of this type is only available to bind to <code>java:comp/env</code> of the web app in which it is defined.
</p><p>The first parameter to the NamingEntry controls the scope.
</p><p>The jvm scope is represented by a null parameter:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"cf"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jms/connectionFactory<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.apache.activemq.ActiveMQConnectionFactory"</span><span class="re2">&gt;</span></span>
       <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>vm://localhost?broker.persistent=false<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span></pre></div></div>
<p>The Server scope is represented by referencing the related Server object:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">"Server"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.Server"</span><span class="re2">&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"cf"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">"Server"</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jms/connectionFactory<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.apache.activemq.ActiveMQConnectionFactory"</span><span class="re2">&gt;</span></span>
       <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>vm://localhost?broker.persistent=false<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>The webapp scope is represented by referencing the related WebAppContext object:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">'wac'</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;New</span> <span class="re0">id</span>=<span class="st0">"cf"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.plus.jndi.Resource"</span><span class="re2">&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span><span class="re1">&lt;Ref</span> <span class="re0">refid</span>=<span class="st0">'wac'</span><span class="re2">/&gt;</span><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>jms/connectionFactory<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.apache.activemq.ActiveMQConnectionFactory"</span><span class="re2">&gt;</span></span>
       <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>vm://localhost?broker.persistent=false<span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>As you can see, the most natural configuration files in which to declare naming entries of each scope are:
</p>
<ul><li> <code>etc/jetty.xml</code>–jvm or Server scope</li>
<li> <code>WEB-INF/jetty-env.xml</code> or a context xml file–webapp scope</li></ul>

<!-- 
NewPP limit report
Cached time: 20211116014239
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.356 seconds
Real time usage: 0.372 seconds
Preprocessor visited node count: 228/1000000
Preprocessor generated node count: 1080/1000000
Post‐expand include size: 24875/2097152 bytes
Template argument size: 22434/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  229.805      1 - Template:Jetty_Feature
100.00%  229.805      1 - -total
  4.61%   10.602      3 - Template:Message
  4.22%    9.698      1 - Template:Jetty_Redirect
  3.14%    7.221      2 - Template:Note
  2.69%    6.180      1 - Template:Jetty
-->

<!-- Saved in parser cache with key my_wiki:pcache:idhash:25542-0!*!0!!en!5!* and timestamp 20211116014239 and revision id 372750
 -->
</div>
                                      <!-- catlinks -->
                    <div class="catlinks" id="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.eclipse.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a title="Category:Jetty" href="https://wiki.eclipse.org/Category:Jetty">Jetty</a></li><li><a title="Category:Jetty Feature" href="https://wiki.eclipse.org/Category:Jetty_Feature">Jetty Feature</a></li></ul></div></div>                     <!-- /catlinks -->
                                  </div>
              </div>
            </div>
          </div>
        <!-- /maincontent -->

                <!-- printfooter -->
        <div class="printfooter">
        Retrieved from "<a dir="ltr" href="https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;oldid=372750">https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;oldid=372750</a>"        </div>
        <!-- /printfooter -->
        
        
        <!-- debughtml -->
                <!-- /debughtml -->

      </div>
      <!-- /bodyContent -->
    </section>
    <!-- /content -->

    <!-- footer -->
    
</div>
<div class="featured-footer featured-footer-newsletter background-secondary">
  <div class="container">
    <p id="footercredit">This page was last modified 08:08, 27 October 2014 by <a href="https://wiki.eclipse.org/index.php?title=User:Alexrdp90.gmail.com&amp;action=edit&amp;redlink=1" class="new" title="User:Alexrdp90.gmail.com (page does not exist)">Alejandro Rodas</a>. Based on work by <a href="https://wiki.eclipse.org/User:Jesse.mcconnell.gmail.com" title="User:Jesse.mcconnell.gmail.com">Jesse McConnell</a>, <a href="https://wiki.eclipse.org/index.php?title=User:Janb.intalio.com&amp;action=edit&amp;redlink=1" class="new" title="User:Janb.intalio.com (page does not exist)">Jan Bartel</a> and <a title="User:Boulay.intalio.com (page does not exist)" href="https://wiki.eclipse.org/index.php?title=User:Boulay.intalio.com&amp;action=edit&amp;redlink=1" class="new">Shirley Boulay</a> and <a href="https://wiki.eclipse.org/index.php?title=Jetty/Feature/JNDI&amp;action=credits" title="Jetty/Feature/JNDI">others</a>.</p><p id="footerviews"/>  </div>
</div>
</main> <!-- /#main-content-container-row -->
<p id="back-to-top" class="noprint hidden-print">
  <a class="visible-xs" href="JNDI.html#top">Back to the top</a>
</p>
<footer id="solstice-footer">
  <div class="container">
    <div class="row">
      <section id="footer-eclipse-foundation" class="col-sm-6 hidden-print">
        <h2 class="section-title">Eclipse Foundation</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/org/">About Us</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/contact.php">Contact Us</a></li>
          <li><a href="https://www.eclipse.org/donate">Donate</a></li>
          <li><a href="https://www.eclipse.org/membership/">Members</a></li>
          <li><a href="https://www.eclipse.org/org/documents/">Governance</a></li>
          <li><a href="https://www.eclipse.org/org/documents/Community_Code_of_Conduct.php">Code of Conduct</a></li>
          <li><a href="https://www.eclipse.org/artwork/">Logo and Artwork</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/directors.php">Board of Directors</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-legal">
        <h2 class="section-title">Legal</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li>
          <li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
          <li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
          <li><a href="https://www.eclipse.org/legal/epl-2.0/">Eclipse Public License</a></li>
          <li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-useful-links">
        <h2 class="section-title">Useful Links</h2>
        <ul class="nav">
          <li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li>
          <li><a href="https://help.eclipse.org/">Documentation</a></li>
          <li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li>
          <li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li>
          <li><a href="https://www.eclipse.org/forums/">Forums</a></li>
          <li><a href="https://marketplace.eclipse.org/">Marketplace</a></li>
        </ul>
      </section>
      <section class="col-sm-6 hidden-print" id="footer-other">
        <h2 class="section-title">Other</h2>
        <ul class="nav">
          <li><a href="https://www.eclipse.org/ide/">IDE and Tools</a></li>
          <li><a href="https://www.eclipse.org/projects">Projects</a></li>
          <li><a href="https://www.eclipse.org/org/workinggroups/">Working Groups</a></li>
          <li><a href="https://www.eclipse.org/org/research/">Research@Eclipse</a></li>
          <li><a href="https://www.eclipse.org/security/">Report a Vulnerability</a></li>
          <li><a href="https://status.eclipse.org">Service Status</a></li>
        </ul>
      </section>
      <div class="col-sm-24 margin-top-20">
        <div class="row">
          <div class="col-md-16" id="copyright">
            <p id="copyright-text">Copyright © Eclipse Foundation, Inc. All Rights Reserved.</p>
          </div>
          <div class="col-md-8 social-media">
            <ul class="list-inline">
              <li>
                <a class="social-media-link fa-stack fa-lg" href="https://twitter.com/EclipseFdn">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-twitter fa-stack-1x"/>
                </a>
              </li>
              <li>
                <a class="social-media-link fa-stack fa-lg" href="https://www.facebook.com/eclipse.org">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-facebook fa-stack-1x"/>
                </a>
              </li>
              <li>
                <a class="social-media-link fa-stack fa-lg" href="https://www.youtube.com/user/EclipseFdn">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-youtube fa-stack-1x"/>
                </a>
              </li>
              <li>
                <a href="https://www.linkedin.com/company/eclipse-foundation" class="social-media-link fa-stack fa-lg">
                <i class="fa fa-circle-thin fa-stack-2x"/>
                <i class="fa fa-linkedin fa-stack-1x"/>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <a href="JNDI.html#" class="scrollup">Back to the top</a>
    </div>
  </div>
</footer>
    <!-- /footer -->


</body></html>
