<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Jetty WTP Plugin</title>
    <link href="wiki-style.css" media="screen, print" rel="stylesheet" />
  </head>
  <body>
    <div class="col-md-20" id="mainContent">
      <div class="tab-content background-white">
        <div class="tab-pane active" id="tab-pane-main-page-content">
          <h1 class="firstHeading page-header" id="firstHeading">
            <span dir="auto">Jetty/Feature/Hot Deployment</span>
          </h1>
          <div id="main-page-content">
            <div class="alert alert-small alert-warning" id="contentSub">
              <span class="subpages">
                &lt;
                <a href="../../Jetty.html" title="Jetty">Jetty</a>
                â€Ž |
                <a href="../Feature.html" title="Jetty/Feature">Feature</a>
              </span>
            </div>
            <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
              <p>
                <br />
              </p>
              <p>
                <br />
              </p>
              <h2>
                <span class="mw-headline" id="Introduction">Introduction</span>
              </h2>
              <div class="messagebox" style="background-color: #f9f6b7; border: 1px solid #c4c295; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px; font-size: 150%; color: white; background-color: #FF8888; padding: 50px">
                <div style="float: left; margin-left: -40px;">
                  <a class="image" href="https://wiki.eclipse.org/File:Warning2.png">
                    <img alt="Warning2.png" height="35" src="../../images/3/37/Warning2.png" width="35" />
                  </a>
                </div>
                <div>
                  Jetty 7 and Jetty 8 are now EOL (End of Life)
                  <br />
                  <p>
                    <br />
                    <br />
                    <br />
                    THIS IS NOT THE DOCUMENTATION YOU ARE LOOKING FOR!!!!!
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    All development and stable releases are being performed with Jetty 9 and Jetty 10.
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    This
                    <b>wiki is now officially out of date</b>
                    and all content has been moved to the
                    <a class="external text" href="http://www.eclipse.org/jetty/documentation" rel="nofollow">Jetty Documentation Hub</a>
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                  </p>
                </div>
                <p>
                  <br />
                  Jetty provides capability to deploy an arbitrary context or web application by monitoring a directory for changes. If you add a web application or a context descriptor to the directory, Jetty's Deployment Manager (DM) deploys a new context. If you touch or update a context descriptor, the DM stops, reconfigures, and redeploys its context. If you remove a context, the DM stops it and removes it from the server.
                </p>
                <h2>
                  <span class="mw-headline" id="Feature">Feature</span>
                </h2>
                <p>
                  The deployment manager is a state-oriented mechanism suitable for developers and embedded users to customize to a variety of use cases.  An example follows of the
                  <tt>jetty.xml</tt>
                  that creates the basic deployment manager, which Jetty then uses to plug in the ContextProvider and the WebAppProvider that back the Hot Deployment mechanism.  This example also provides information about adding another node to the deployment state, in this case a debug binding.  In the Jetty distribution this XML is in the
                  <tt>jetty-deploy.xml</tt>
                  file, which combined with the
                  <tt>jetty-contexts.xml</tt>
                  and
                  <tt>jetty-webapps.xml</tt>
                  files comprise the stock jetty hot deployment mechanism.
                </p>
                <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                  <div class="xml source-xml">
                    <pre class="de1">
                      <span class="sc3">
                        <span class="re1">&lt;Configure</span>
                        <span class="re0">id</span>
                        =
                        <span class="st0">"Server"</span>
                        <span class="re0">class</span>
                        =
                        <span class="st0">"org.eclipse.jetty.server.Server"</span>
                        <span class="re2">&gt;</span>
                      </span>
                      <span class="sc3">
                        <span class="re1">&lt;Call</span>
                        <span class="re0">name</span>
                        =
                        <span class="st0">"addBean"</span>
                        <span class="re2">&gt;</span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;Arg
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc3">
                        <span class="re1">&lt;New</span>
                        <span class="re0">id</span>
                        =
                        <span class="st0">"DeploymentManager"</span>
                        <span class="re0">class</span>
                        =
                        <span class="st0">"org.eclipse.jetty.deploy.DeploymentManager"</span>
                        <span class="re2">&gt;</span>
                      </span>
                      <span class="sc3">
                        <span class="re1">&lt;Set</span>
                        <span class="re0">name</span>
                        =
                        <span class="st0">"contexts"</span>
                        <span class="re2">&gt;</span>
                      </span>
                      <span class="sc3">
                        <span class="re1">&lt;Ref</span>
                        <span class="re0">id</span>
                        =
                        <span class="st0">"Contexts"</span>
                        <span class="re2">/&gt;</span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;/Set
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc3">
                        <span class="re1">&lt;Call</span>
                        <span class="re0">name</span>
                        =
                        <span class="st0">"setContextAttribute"</span>
                        <span class="re2">&gt;</span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;Arg
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern
                      <span class="sc3">
                        <span class="re1">
                          &lt;/Arg
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;Arg
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      .*/jsp-api-[^/]*\.jar$|.*/jsp-[^/]*\.jar$
                      <span class="sc3">
                        <span class="re1">
                          &lt;/Arg
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;/Call
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc-1">&lt;!-- Add a customize step to the deployment lifecycle --&gt;</span>
                      <span class="sc-1">&lt;!-- uncomment and replace DebugBinding with your extended AppLifeCycle.Binding class</span>
                      <span class="sc-1">&lt;Call name="insertLifeCycleNode"&gt;</span>
                      <span class="sc-1">&lt;Arg&gt;deployed&lt;/Arg&gt;</span>
                      <span class="sc-1">&lt;Arg&gt;starting&lt;/Arg&gt;</span>
                      <span class="sc-1">&lt;Arg&gt;customise&lt;/Arg&gt;</span>
                      <span class="sc-1">&lt;/Call&gt;</span>
                      <span class="sc-1">&lt;Call name="addLifeCycleBinding"&gt;</span>
                      <span class="sc-1">&lt;Arg&gt;</span>
                      <span class="sc-1">&lt;New class="org.eclipse.jetty.deploy.bindings.DebugBinding"&gt;</span>
                      <span class="sc-1">&lt;Arg&gt;customise&lt;/Arg&gt;</span>
                      <span class="sc-1">&lt;/New&gt;</span>
                      <span class="sc-1">&lt;/Arg&gt;</span>
                      <span class="sc-1">&lt;/Call&gt;</span>
                      <span class="sc-1">--&gt;</span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;/New
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;/Arg
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;/Call
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                      <span class="sc3">
                        <span class="re1">
                          &lt;/Configure
                          <span class="re2">&gt;</span>
                        </span>
                      </span>
                    </pre>
                  </div>
                </div>
                <h2>
                  <span class="mw-headline" id="Additional_Resources">Additional Resources</span>
                </h2>
                <p>
                  See the
                  <a class="mw-redirect" href="https://wiki.eclipse.org/Jetty/Feature/ContextDeployer" title="Jetty/Feature/ContextDeployer">Context Provider</a>
                  and
                  <a class="mw-redirect" href="https://wiki.eclipse.org/Jetty/Feature/WebAppDeployer" title="Jetty/Feature/WebAppDeployer">WebApp Provider</a>
                  documentation for more information. Previously, Jetty implemented this feature via a ContextDeployer and WebappDeployer, which have both been deprecated.
                </p>
                <p>
                  See also the
                  <a href="Deployment Manager.html" title="Jetty/Feature/Deployment Manager">Deployment Manager</a>
                  feature reference for detailed conceptual information.
                </p>
              </div>
              <div class="catlinks" id="catlinks">
                <div class="mw-normal-catlinks" id="mw-normal-catlinks">
                  <a href="https://wiki.eclipse.org/Special:Categories" title="Special:Categories">Categories</a>
                  :
                  <ul>
                    <li>
                      <a href="https://wiki.eclipse.org/Category:Jetty" title="Category:Jetty">Jetty</a>
                    </li>
                    <li>
                      <a href="https://wiki.eclipse.org/Category:Jetty_Feature" title="Category:Jetty Feature">Jetty Feature</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
