<html>
<head>
    <title>Jetty WTP Plugin</title>
    <link rel="stylesheet" media="screen, print" href="wiki-style.css"/>
</head>
<body>
<div class="col-md-20" id="mainContent">
                      <ul role="tablist" class="nav nav-tabs noprint hidden-print">
                       <li id="ca-nstab-main" class="active"><a href="WebAppProvider.html" tabindex="-1" accesskey="c" title="View the content page [c]">Page</a></li>
                        <li id="ca-talk" class="new"><a title="Discussion about the content page [t]" href="edit" accesskey="t" tabindex="-1">Discussion</a></li>
                        <li id="ca-viewsource"><a href="edit" accesskey="e" tabindex="-1" title="This page is protected.&#10;You can view its source [e]">View source</a></li>
                        <li class="collapsible" id="ca-history"><a href="edit" tabindex="-1" accesskey="h" title="Past revisions of this page [h]">History</a></li>
                      </ul>            <div class="tab-content background-white">
              <div class="tab-pane active" id="tab-pane-main-page-content">

                
                <h1 id="firstHeading" class="firstHeading page-header">
                  <span dir="auto">Jetty/Feature/WebAppProvider</span>
                </h1>
                <div id="main-page-content">
                                                      <!-- subtitle -->
                  <div id="contentSub" class="alert alert-small alert-warning"><span class="subpages">&lt; <a title="Jetty" href="../../Jetty.html">Jetty</a>‎ | <a title="Jetty/Feature" href="../Feature.html">Feature</a></span></div>
                  <!-- /subtitle -->
                  
                  
                  <div dir="ltr" lang="en" id="mw-content-text" class="mw-content-ltr"><p><br/>
</p><p><br/>
</p>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The <a class="external text" rel="nofollow" href="http://dev.eclipse.org/viewcvs/viewvc.cgi/jetty/trunk/jetty-deploy/src/main/java/org/eclipse/jetty/deploy/providers/WebAppProvider.java?view=markup&amp;root=RT_JETTY">WebAppProvider</a> is for static deployment of standard WAR files and webapps with little or no Jetty-specific customization. For hot deployment of customized contexts, use the <a class="mw-redirect" title="Jetty/Feature/ContextDeployer" href="https://wiki.eclipse.org/Jetty/Feature/ContextDeployer">Context Provider</a>.
</p>
<h2><span id="Feature" class="mw-headline">Feature</span></h2>
<p>The basic operation of WebAppProvider is to scan a directory at startup for WAR files or webapp directories and to deploy the web applications found. Typically this is done from a <tt>jetty.xml</tt> style file; in the jetty distribution the name of this file is <tt>jetty-webapps.xml</tt>:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"> <span class="sc3"><span class="re1">&lt;Configure</span> <span class="re0">id</span>=<span class="st0">"Server"</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.server.Server"</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;Ref</span> <span class="re0">id</span>=<span class="st0">"DeploymentManager"</span><span class="re2">&gt;</span></span>
          <span class="sc3"><span class="re1">&lt;Call</span> <span class="re0">id</span>=<span class="st0">"webappprovider"</span> <span class="re0">name</span>=<span class="st0">"addAppProvider"</span><span class="re2">&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.deploy.providers.WebAppProvider"</span><span class="re2">&gt;</span></span>
                <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"monitoredDirName"</span><span class="re2">&gt;</span><span class="re1">&lt;Property</span> <span class="re0">name</span>=<span class="st0">"jetty.home"</span> <span class="re0">default</span>=<span class="st0">"."</span> <span class="re2">/&gt;</span></span>/webapps<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"defaultsDescriptor"</span><span class="re2">&gt;</span><span class="re1">&lt;Property</span> <span class="re0">name</span>=<span class="st0">"jetty.home"</span> <span class="re0">default</span>=<span class="st0">"."</span><span class="re2">/&gt;</span></span>/etc/webdefault.xml<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"scanInterval"</span><span class="re2">&gt;</span></span>1<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"contextXmlDir"</span><span class="re2">&gt;</span><span class="re1">&lt;Property</span> <span class="re0">name</span>=<span class="st0">"jetty.home"</span> <span class="re0">default</span>=<span class="st0">"."</span> <span class="re2">/&gt;</span></span>/contexts<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
		<span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"extractWars"</span><span class="re2">&gt;</span></span>true<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/Call<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/Ref<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/Configure<span class="re2">&gt;</span></span></span></pre></div></div>
<p>The WebAppProvider is added to the server as a LifeCycle. This simply means that the deployer starts and stops with the server, that is, when <tt>server.start()</tt> is called, then <tt>start</tt> is also called on the deployer.
</p><p>The <i>context</i> passed in is a reference to a HandlerContainer in which the discovered webapps are deployed. This is normally an instance of ContextHandlerCollection.
</p><p>The <i>contextXmlDir</i> points to a directory like that the ContextProvider uses. When you use this option the WebappProvider checks any webapp or WAR files in the monitored directory for an associated context file. If it finds one, it defers to the ContextProvider to deploy the webapp.  If it does not find a context file, the WebAppProvider deploys the webapp.
</p><p>The <i>monitoredDirName</i> is a file path or URL to the directory to scan for web applications. Zip files ending with .war or .zip are deployed. Directories not called CVS are also deployed. The basename of the WAR (for example, <i>foo</i> from foo.war) or the directory name are used as the context path of the discovered webapps, unless the name is "root", in which case the context path of / is used.
</p><p>The <i>parentLoaderPriority</i> parameter is a boolean that selects whether the standard Java parent first delegation <a title="Jetty/Reference/Jetty Classloading" href="../Reference/Jetty Classloading.html">classloading</a> will be used or the servlet specification webapp <a href="../Reference/Jetty Classloading.html" title="Jetty/Reference/Jetty Classloading">Jetty/Reference/Jetty_Classloading</a> priority. 
</p><p>If the <i>extract</i> parameter is true, any packed WAR or zip files are first extracted to a <a title="Jetty/Reference/Temporary Directories" href="../Reference/Temporary Directories.html">temporary directory</a> before being deployed. This is advisable if there are uncompiled JSPs in the web apps.
</p><p>If the <i>allowDuplicates</i> parameter is false, the discovered webapps are checked against existing deployed webapps and are not deployed if the same context path or WAR file is already deployed (perhaps by another deployer).
</p><p>The <i>defaultsDescriptor</i> parameter allows an alternative webdefault.xml config file to be set on the discovered web applications. The <a href="../Reference/webdefault.xml.html" title="Jetty/Reference/webdefault.xml">webdefault.xml</a> file controls the configuration of the JSP and Default servlets.
</p>
<!-- 
NewPP limit report
Cached time: 20211116111455
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.036 seconds
Real time usage: 0.038 seconds
Preprocessor visited node count: 29/1000000
Preprocessor generated node count: 164/1000000
Post‐expand include size: 3124/2097152 bytes
Template argument size: 2915/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   27.207      1 - -total
100.00%   27.207      1 - Template:Jetty_Feature
 25.27%    6.874      1 - Template:Jetty
-->

<!-- Saved in parser cache with key my_wiki:pcache:idhash:25946-0!*!0!!*!*!* and timestamp 20211116111455 and revision id 255165
 -->
</div>
                                      <!-- catlinks -->
                    <div class="catlinks" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a href="https://wiki.eclipse.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://wiki.eclipse.org/Category:Jetty" title="Category:Jetty">Jetty</a></li><li><a title="Category:Jetty Feature" href="https://wiki.eclipse.org/Category:Jetty_Feature">Jetty Feature</a></li></ul></div></div>                     <!-- /catlinks -->
                                  </div>
              </div>
            </div>
          </div>
</body>
</html>
