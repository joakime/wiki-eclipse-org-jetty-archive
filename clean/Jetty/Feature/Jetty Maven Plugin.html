<html>
<head>
    <title>Jetty WTP Plugin</title>
    <link rel="stylesheet" media="screen, print" href="wiki-style.css"/>
</head>
<body>
<div id="mainContent" class="col-md-20">
                      <ul class="nav nav-tabs noprint hidden-print" role="tablist">
                       <li id="ca-nstab-main" class="active"><a tabindex="-1" href="Jetty Maven Plugin.html" title="View the content page [c]" accesskey="c">Page</a></li>
                        <li id="ca-talk"><a tabindex="-1" href="https://wiki.eclipse.org/Talk:Jetty/Feature/Jetty_Maven_Plugin" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
                        <li id="ca-viewsource"><a accesskey="e" title="This page is protected.&#10;You can view its source [e]" href="edit" tabindex="-1">View source</a></li>
                        <li id="ca-history" class="collapsible"><a tabindex="-1" href="edit" title="Past revisions of this page [h]" accesskey="h">History</a></li>
                      </ul>            <div class="tab-content background-white">
              <div class="tab-pane active" id="tab-pane-main-page-content">

                
                <h1 id="firstHeading" class="firstHeading page-header">
                  <span dir="auto">Jetty/Feature/Jetty Maven Plugin</span>
                </h1>
                <div id="main-page-content">
                                                      <!-- subtitle -->
                  <div class="alert alert-small alert-warning" id="contentSub"><span class="subpages">&lt; <a href="../../Jetty.html" title="Jetty">Jetty</a>‎ | <a title="Jetty/Feature" href="../Feature.html">Feature</a></span></div>
                  <!-- /subtitle -->
                  
                  
                  <div class="mw-content-ltr" lang="en" dir="ltr" id="mw-content-text"><div class="messagebox" style="background-color: #f9f6b7; border: 1px solid #c4c295; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px;">
<div style="float: left; margin-left: -40px;"><a class="image" href="https://wiki.eclipse.org/File:Important.png"><img alt="Important.png" src="../../images/f/ff/Important.png" width="35" height="35"/></a></div>
<div><b>This documentation ONLY refers to using the jetty-maven-plugin with Jetty 7.x or Jetty 8.x which are both EOL. All development and stable releases are being performed with Jetty 9, 10 and 11. Direct links to documentation:</b>
<p><br/>
Jetty  9.x: <a href="https://www.eclipse.org/jetty/documentation/jetty-9/index.html#jetty-maven-plugin" class="external free" rel="nofollow">https://www.eclipse.org/jetty/documentation/jetty-9/index.html#jetty-maven-plugin</a>
</p><p>Jetty 10.x: <a class="external free" href="https://www.eclipse.org/jetty/documentation/jetty-10/programming-guide/index.html#jetty-maven-plugin" rel="nofollow">https://www.eclipse.org/jetty/documentation/jetty-10/programming-guide/index.html#jetty-maven-plugin</a>
</p><p>Jetty 11.x: <a rel="nofollow" href="https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#jetty-maven-plugin" class="external free">https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#jetty-maven-plugin</a>
</p><p>Jetty documentation hub: <a rel="nofollow" href="http://www.eclipse.org/jetty/documentation" class="external free">http://www.eclipse.org/jetty/documentation</a>
</p>
<b><br/></b></div>
</div>
<p><br/>
</p>
<div class="messagebox" style="background-color: #def3fe; border: 1px solid #c5d7e0; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px;">
<div style="float: left; margin-left: -40px;"><a href="https://wiki.eclipse.org/File:Note.png" class="image"><img src="../../images/c/cc/Note.png" height="35" width="35" alt="Note.png"/></a></div>
<div><b>If you're using the plugin with the EOL Jetty 6, see the <a class="external text" href="http://web.archive.org/web/20150520205353if_/http://docs.codehaus.org/display/JETTY/Maven+Jetty+Plugin" rel="nofollow">Jetty 6 Maven Plugin guide</a> at codehaus. It is called the jetty-maven-plugin.  In previous versions it was the maven-jetty-plugin.</b><br/></div>
</div>
<p><br/>
</p><p><br/>
</p><p><br/>
</p>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="Jetty Maven Plugin.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="Jetty Maven Plugin.html#Feature"><span class="tocnumber">2</span> <span class="toctext">Feature</span></a></li>
<li class="toclevel-1"><a href="Jetty Maven Plugin.html#Quick_Start:_Get_Up_and_Running"><span class="tocnumber">3</span> <span class="toctext">Quick Start: Get Up and Running</span></a>
<ul>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Stopping_the_Plugin"><span class="tocnumber">3.1</span> <span class="toctext">Stopping the Plugin</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="Jetty Maven Plugin.html#Running_and_Deploying"><span class="tocnumber">4</span> <span class="toctext">Running and Deploying</span></a></li>
<li class="toclevel-1"><a href="Jetty Maven Plugin.html#Configuring_the_Jetty_Container"><span class="tocnumber">5</span> <span class="toctext">Configuring the Jetty Container</span></a></li>
<li class="toclevel-1"><a href="Jetty Maven Plugin.html#Configuring_Your_WebApp"><span class="tocnumber">6</span> <span class="toctext">Configuring Your WebApp</span></a>
<ul>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#jetty:run_:_Running_an_unassembled_webapp"><span class="tocnumber">6.1</span> <span class="toctext">jetty:run :  Running an unassembled webapp</span></a>
<ul>
<li class="toclevel-3"><a href="Jetty Maven Plugin.html#Configuring_additional_parameters"><span class="tocnumber">6.1.1</span> <span class="toctext">Configuring additional parameters</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#jetty:run-war_:_Running_an_assembled_webapp_as_a_war"><span class="tocnumber">6.2</span> <span class="toctext">jetty:run-war :  Running an assembled webapp as a war</span></a>
<ul>
<li class="toclevel-3"><a href="Jetty Maven Plugin.html#Configuring_the_war"><span class="tocnumber">6.2.1</span> <span class="toctext">Configuring the war</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#jetty:run-exploded_:_Running_an_assembled_webapp_as_an_expanded_WAR"><span class="tocnumber">6.3</span> <span class="toctext">jetty:run-exploded  :  Running an assembled webapp as an expanded WAR</span></a>
<ul>
<li class="toclevel-3"><a href="Jetty Maven Plugin.html#Configuring_the_exploded_war"><span class="tocnumber">6.3.1</span> <span class="toctext">Configuring the exploded war</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#jetty:deploy-war_:_Running_a_pre-assembled_war"><span class="tocnumber">6.4</span> <span class="toctext">jetty:deploy-war  :  Running a pre-assembled war</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#jetty:run-forked_:_Running_an_unassembled_webapp_in_a_separate_jvm"><span class="tocnumber">6.5</span> <span class="toctext">jetty:run-forked  :  Running an unassembled webapp in a separate jvm</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#jetty:start_:_Starting_jetty_without_first_executing_the_build_up_to_.22test-compile.22_phase"><span class="tocnumber">6.6</span> <span class="toctext">jetty:start  :  Starting jetty without first executing the build up to "test-compile" phase</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="Jetty Maven Plugin.html#More"><span class="tocnumber">7</span> <span class="toctext">More</span></a>
<ul>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Excluded_Goals"><span class="tocnumber">7.1</span> <span class="toctext">Excluded Goals</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Manual_Reload"><span class="tocnumber">7.2</span> <span class="toctext">Manual Reload</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Stopping_the_plugin_from_Another_Terminal_Window"><span class="tocnumber">7.3</span> <span class="toctext">Stopping the plugin from Another Terminal Window</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Using_mvn_jetty:help_for_More_Help"><span class="tocnumber">7.4</span> <span class="toctext">Using mvn jetty:help for More Help</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Skipping_execution_of_jetty"><span class="tocnumber">7.5</span> <span class="toctext">Skipping execution of jetty</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Configuring_Security_Settings"><span class="tocnumber">7.6</span> <span class="toctext">Configuring Security Settings</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Configuring_Connectors"><span class="tocnumber">7.7</span> <span class="toctext">Configuring Connectors</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Using_Overlayed_WARs"><span class="tocnumber">7.8</span> <span class="toctext">Using Overlayed WARs</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Multiple_webapp_root_directories"><span class="tocnumber">7.9</span> <span class="toctext">Multiple webapp root directories</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Using_GZip_Compression_and_Other_Jetty_Extensions"><span class="tocnumber">7.10</span> <span class="toctext">Using GZip Compression and Other Jetty Extensions</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Running_more_than_one_webapp"><span class="tocnumber">7.11</span> <span class="toctext">Running more than one webapp</span></a></li>
<li class="toclevel-2"><a href="Jetty Maven Plugin.html#Setting_System_Properties"><span class="tocnumber">7.12</span> <span class="toctext">Setting System Properties</span></a>
<ul>
<li class="toclevel-3"><a href="Jetty Maven Plugin.html#In_the_Pom"><span class="tocnumber">7.12.1</span> <span class="toctext">In the Pom</span></a></li>
<li class="toclevel-3"><a href="Jetty Maven Plugin.html#In_a_File"><span class="tocnumber">7.12.2</span> <span class="toctext">In a File</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The Jetty Maven plugin is useful for rapid development and testing. You can add it to any webapp project that is structured according to the usual Maven defaults. The plugin can then periodically scan your project for changes and automatically redeploy the webapp if any are found. This makes the development cycle more productive by eliminating the build and deploy steps: you use your IDE to make changes to the project, and the running web container automatically picks them up, allowing you to test them straight away.
</p>
<div style="background-color: #def3fe; border: 1px solid #c5d7e0; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px;" class="messagebox">
<div style="float: left; margin-left: -40px;"><a class="image" href="https://wiki.eclipse.org/File:Note.png"><img alt="Note.png" height="35" width="35" src="../../images/c/cc/Note.png"/></a></div>
<div><b>You will need to use maven 3 from jetty-7.5.3 release going forwards.</b><br/></div>
</div>
<h2><span id="Feature" class="mw-headline">Feature</span></h2>
<h2><span class="mw-headline" id="Quick_Start:_Get_Up_and_Running">Quick Start: Get Up and Running</span></h2>
<p>First, add jetty-maven-plugin to your pom.xml definition:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Then, from the same directory as your root pom.xml, simply type:
</p>
<pre> mvn jetty:run
</pre>
<p>This starts Jetty and serves up your project on http://localhost:8080/.
</p><p>Jetty continues to run until you stop it. While it runs, it periodically scans for changes to your project files, so if you save changes and recompile your class files, Jetty redeploys your webapp, and you can instantly test the changes you just made. 
</p>
<h3><span id="Stopping_the_Plugin" class="mw-headline">Stopping the Plugin</span></h3>
<p>You can terminate the plugin with a <tt>&lt;ctrl-c&gt;</tt> in the terminal window where it is running.
</p>
<h2><span class="mw-headline" id="Running_and_Deploying">Running and Deploying</span></h2>
<p>The jetty-maven-plugin has a number of distinct Maven goals. Each goal is an action you can run to accomplish a specific task, or to work with a particular web application setup. You might need to insert goal-specific configuration to run it properly.
</p><p>To run the jetty-maven-plugin with a particular goal, use this command:
</p>
<pre> mvn jetty:<var>goalname</var>
</pre>
<p>Here are the configuration elements that are common to all goals:
</p>
<h2><span id="Configuring_the_Jetty_Container" class="mw-headline">Configuring the Jetty Container</span></h2>
<p>These configuration elements set up the Jetty environment in which your webapp executes.
</p>
<ul><li>  <b>&lt;connectors&gt;</b> <i>Optional</i> A list of org.eclipse.jetty.server.Connector objects, which are the port listeners for Jetty. If you don't specify any, an NIO org.eclipse.jetty.server.nio.SelectChannelConnector will be configured on port 8080. You can change this default port number by using the system property jetty.port on the command line, for example, "mvn -Djetty.port=9999 jetty:run". Alternatively, you can specify as many connectors as you like. You could also instead configure the connectors in a standard [<a rel="nofollow" class="external text" href="http://wiki.eclipse.org/Jetty/Reference/jetty.xml">jetty xml config</a>] file and put its location into the &lt;jettyXml&gt; parameter.</li></ul>
<ul><li> <b>&lt;jettyXml&gt;</b> <i>Optional</i> The location of a jetty.xml file that will be applied in addition to any plugin configuration parameters. You might use it if you have other webapps, handlers, etc. to  deploy, or if you have other Jetty objects that cannot be configured from the plugin.</li></ul>
<ul><li> <b>&lt;scanIntervalSeconds&gt;</b> <i>Optional</i> The pause in seconds between sweeps of the webapp to check for changes and automatically hot redeploy if any are detected. By default this is 0, which disables hot deployment scanning. A number greater than 0 enables it.</li></ul>
<ul><li> <b>&lt;systemProperties&gt;</b> <i>Optional</i> Allow you to configure System properties for the execution of the plugin. For more information, see <a href="Jetty Maven Plugin.html#Setting_System_Properties">Setting System Properties</a>.</li></ul>
<ul><li> <b>&lt;systemPropertiesFile&gt;</b> <i>Optional</i> A file containing System properties to set for the execution of the plugin. Settings that you make here do not override any system properties already set on the command line, by the JVM, or in the POM via systemProperties. Available from Jetty 6.1.15rc4.</li></ul>
<ul><li> <b>&lt;loginServices&gt;</b> <i>Optional</i> A list of org.eclipse.jetty.security.LoginService implementations. Note that there is no default realm. If you use a realm in your web.xml you can specify a corresponding realm here. You could instead configure the login services in a jetty xml file and add its location to the &lt;jettyXml&gt; parameter.</li></ul>
<ul><li> <b>&lt;requestLog&gt;</b> <i>Optional</i> An implementation of the org.eclipse.jetty.server.RequestLog request log interface. An implementation that respects the NCSA format is available as org.eclipse.jetty.server.NCSARequestLog. There are three other ways to configure the RequestLog:
<ul><li>In a jetty xml config file (specified in the &lt;jettyXml&gt; parameter).</li>
<li>In a <a href="http://wiki.eclipse.org/Jetty/Feature/ContextDeployer#Contexts" class="external text" rel="nofollow">context xml config file</a> (specified in the &lt;contextXml&gt; parameter).</li>
<li>In the &lt;webApp&gt; element. <a href="http://wiki.eclipse.org/Jetty/Tutorial/RequestLog" class="external text" rel="nofollow"><i>Configuring Request Logs</i> tutorial</a>. </li></ul></li></ul>
<h2><span class="mw-headline" id="Configuring_Your_WebApp">Configuring Your WebApp</span></h2>
<p>These configuration parameters apply to your webapp. They should apply to all goals, <b>except</b> for <tt>run-forked</tt> and <tt>stop</tt>:
</p>
<ul><li> <b>&lt;webApp&gt;</b> Represents an extension to the class <a class="external text" href="http://download.eclipse.org/jetty/stable-7/apidocs/org/eclipse/jetty/webapp/WebAppContext.html" rel="nofollow">org.eclipse.jetty.webapp.WebAppContext</a>. Any of the setter methods on this object can be used to configure your webapp. Here are a few of the most useful ones:
<ul><li> <b>&lt;contextPath&gt;</b> The context path for your webapp. By default, this is set to the <tt>/${project.artifactId}</tt> from the project's pom.xml.</li>
<li> <b>&lt;descriptor&gt;</b> The path to the web.xml file for your webapp.</li>
<li> <b>&lt;defaultsDescriptor&gt;</b> The path to a webdefault.xml file that will be applied to your webapp before the web.xml. If none is supplied, Jetty uses a default one baked into the jetty-webapp.jar.</li>
<li> <b>&lt;overrideDescriptor&gt;</b> The path to a web.xml file that will be applied after your web.xml is read. You can use this to replace or add configuration. </li>
<li> <b>&lt;tempDirectory&gt;</b> The path to a dir that Jetty can use to expand or copy jars and jsp compiles when your webapp is running. The default is <tt>${project.build.outputDirectory}/tmp</tt></li>
<li> <b>&lt;baseResource&gt;</b> the path from which Jetty will serve static resources. Defaults to src/main/webapp.</li>
<li> <b>&lt;resourceBases&gt;</b> use instead of &lt;baseResource&gt; if you have multiple dirs from which you want to serve static content. This is an array of dir names.</li>
<li> <b>&lt;baseAppFirst&gt;</b> Optional. Defaults to "true". Controls whether any overlayed wars are added before or after the original base resource(s) of the webapp.</li>
<li> <b>&lt;jettyEnvXml&gt;</b> Optional. Location of a jetty-env.xml file, which allows you to make JNDI bindings that satisfies &lt;env-entry&gt;, &lt;resource-env-ref&gt; and &lt;resource-ref&gt; linkages in the web.xml. Note that these can also be made in a &lt;jettyXml&gt; file if you want them to apply to more than one webapp.</li>
<li> <b>&lt;containerIncludeJarPattern&gt;</b>. Since jetty-8.1.x. Optional. A pattern to match against the urls of the jars on the container path to select those that should be examined for things like META-INF fragments, resources, tlds and class inheritance hierarchy (used with <a rel="nofollow" href="http://download.oracle.com/javaee/6/api/javax/servlet/ServletContainerInitializer.html" class="external text">servlet container initializers</a>).</li>
<li> <b>&lt;webInfIncludeJarPattern&gt;</b>. Since jetty-8.1.6. Optional. A pattern to match against the urls of the jars considered to be on the webapp's WEB-INF classpath to select those that should be examined for META-INF fragments, resources, tlds, and class inheritance hierarchy (used with <a class="external text" href="http://download.oracle.com/javaee/6/api/javax/servlet/ServletContainerInitializer.html" rel="nofollow">servlet container initializers</a>). The default is to potentially examine them all, subject to any ordering exclusions configured in web.xml.</li></ul></li>
<li> <b>&lt;contextXml&gt;</b> <i>Optional</i> The path to a context xml file that is applied to your webapp AFTER the &lt;webApp&gt; element. </li></ul>
<p><br/>
</p>
<h3><span class="mw-headline" id="jetty:run_:_Running_an_unassembled_webapp">jetty:run :  Running an unassembled webapp</span></h3>
<p>The <tt>run</tt> goal runs on a webapp that does not have to be built into a WAR. Instead, Jetty deploys the webapp from its constituent sources. It looks for the constituent parts of a webapp in the maven default project locations, although you can override these in the plugin configuration. For example, by default it looks for:
</p>
<ul><li> resources in <tt>${basedir}/src/main/webapp</tt></li>
<li> classes in <tt>${project.build.outputDirectory}</tt></li>
<li> <tt>web.xml</tt> in <tt>${basedir}/src/main/webapp/WEB-INF/</tt></li></ul>
<p>The plugin automatically ensures the classes are rebuilt and up-to-date before deployment.  If you change the source of a class and your IDE automatically compiles it in the background, the plugin picks up the changed class.
</p><p>The webapp does not need to be assembled into a WAR, saving time during the development cycle. Once invoked, you can configure the plugin to run continuously, scanning for changes in the project and automatically performing a hot redeploy when necessary. Any changes you make are immediately reflected in the running instance of Jetty, letting you quickly jump from coding to testing, rather than going through the cycle of: code, compile, reassemble, redeploy, test.
</p><p>Here is a small example, which turns on scanning for changes every ten seconds, and sets the webapp context path to "/test":
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;scanIntervalSeconds<span class="re2">&gt;</span></span></span>10<span class="sc3"><span class="re1">&lt;/scanIntervalSeconds<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<h4><span id="Configuring_additional_parameters" class="mw-headline">Configuring additional parameters</span></h4>
<p>In addition to the &lt;webApp&gt; element which is common to most goals, the jetty:run goal supports:
</p>
<ul><li> <b>&lt;classesDirectory&gt;</b> – Location of your compiled classes for the webapp. You should rarely need to set this parameter. Instead, you should set &lt;build&gt;&lt;outputDirectory&gt; in your pom.xml.</li>
<li> <b>&lt;testClassesDirectory&gt;</b> – Location of the compiled test classes for your webapp. By default this is ${project.build.testOutputDirectory}.</li>
<li> <b>&lt;useTestScope&gt;</b> – If true, the classes from &lt;testClassesDirectory&gt; and dependencies of scope "test" are placed first on the classpath. By default this is false.</li>
<li> <b>&lt;useProvidedScope&gt;</b> - If true, the dependencies with scope "provided" are placed onto the <b>container classpath</b>. Note: NOT the webapp classpath, as "provided" indicates that these dependencies would normally be expected to be provided by the container. You should very rarely ever need to use this. Instead, you should copy the provided dependencies as explicit dependencies of the &lt;plugin&gt; instead. </li>
<li><b> &lt;webAppSourceDirectory&gt;</b> – By default, this is set to ${basedir}/src/main/webapp. If your static sources are in a different location, set this parameter accordingly. </li>
<li> <b>&lt;scanTargets&gt;</b> –<i>Optional</i> A list of files and directories to periodically scan in addition to those automatically scanned by the plugin.</li>
<li> <b>&lt;scanTargetPatterns&gt;</b> –<i>Optional</i> If you have a long list of extra files you want scanned, it is more convenient to use pattern matching expressions to specify them instead of enumerating them with the &lt;scanTargets&gt;–List of &lt;scanTargetPattern&gt;s, each consisting of a &lt;directory,&gt; and &lt;including&gt; and/or &lt;excluding&gt; parameters to specify the file matching patterns.</li>
<li> <b>&lt;skip&gt;</b> - <i>Optional</i> Default is false. If true, the execution of the plugin will exit. Same as setting the SystemProperty <i>-Djetty.skip</i> on the command line.</li></ul>
<p>Here's an example:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;project<span class="re2">&gt;</span></span></span>
  ...
  <span class="sc3"><span class="re1">&lt;plugins<span class="re2">&gt;</span></span></span>
    ...
      <span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;webAppSourceDirectory<span class="re2">&gt;</span></span></span>${basedir}/src/staticfiles<span class="sc3"><span class="re1">&lt;/webAppSourceDirectory<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;webAppConfig<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;descriptor<span class="re2">&gt;</span></span></span>${basedir}/src/over/here/web.xml<span class="sc3"><span class="re1">&lt;/descriptor<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;jettyEnvXml<span class="re2">&gt;</span></span></span>${basedir}/src/over/here/jetty-env.xml<span class="sc3"><span class="re1">&lt;/jettyEnvXml<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/webAppConfig<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;classesDirectory<span class="re2">&gt;</span></span></span>${basedir}/somewhere/else<span class="sc3"><span class="re1">&lt;/classesDirectory<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;scanTargets<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;scanTarget<span class="re2">&gt;</span></span></span>src/mydir<span class="sc3"><span class="re1">&lt;/scanTarget<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;scanTarget<span class="re2">&gt;</span></span></span>src/myfile.txt<span class="sc3"><span class="re1">&lt;/scanTarget<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/scanTargets<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;scanTargetPatterns<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;scanTargetPattern<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;directory<span class="re2">&gt;</span></span></span>src/other-resources<span class="sc3"><span class="re1">&lt;/directory<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;includes<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;include<span class="re2">&gt;</span></span></span>**/*.xml<span class="sc3"><span class="re1">&lt;/include<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;include<span class="re2">&gt;</span></span></span>**/*.properties<span class="sc3"><span class="re1">&lt;/include<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;/includes<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;excludes<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;exclude<span class="re2">&gt;</span></span></span>**/myspecial.xml<span class="sc3"><span class="re1">&lt;/exclude<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;exclude<span class="re2">&gt;</span></span></span>**/myspecial.properties<span class="sc3"><span class="re1">&lt;/exclude<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;/excludes<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/scanTargetPattern<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/scanTargetPatterns<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/plugins<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/project<span class="re2">&gt;</span></span></span></pre></div></div>
<p>If, for whatever reason, you cannot run on an unassembled webapp, the goals <tt>run-war</tt> and <tt>run-exploded</tt> will work on unassembled webapps.
</p>
<h3><span class="mw-headline" id="jetty:run-war_:_Running_an_assembled_webapp_as_a_war">jetty:run-war :  Running an assembled webapp as a war</span></h3>
<p>This goal first packages your webapp as a WAR file and then deploys it to Jetty. If you set a non-zero <tt>scanInterval</tt> Jetty watches your pom.xml and the WAR file; if either changes, it redeploys the war.
</p>
<h4><span class="mw-headline" id="Configuring_the_war">Configuring the war</span></h4>
<ul><li> <b>&lt;war&gt;</b> The location of the built WAR file. This defaults to ${project.build.directory}/${project.build.finalName}.war. If this is not sufficient, set it to your custom location.</li></ul>
<p>Here's how to set it:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;project<span class="re2">&gt;</span></span></span>
  ...
  <span class="sc3"><span class="re1">&lt;plugins<span class="re2">&gt;</span></span></span>
    ...
      <span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;war<span class="re2">&gt;</span></span></span>${basedir}/target/mycustom.war<span class="sc3"><span class="re1">&lt;/war<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/plugins<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/project<span class="re2">&gt;</span></span></span></pre></div></div>
<h3><span id="jetty:run-exploded_:_Running_an_assembled_webapp_as_an_expanded_WAR" class="mw-headline">jetty:run-exploded  :  Running an assembled webapp as an expanded WAR</span></h3>
<p>The run-exploded goal first assembles your webapp into an exploded WAR file and then deploys it to Jetty. If you set a non-zero scanInterval, Jetty watches your pom.xml, WEB-INF/lib, WEB-INF/classes and WEB-INF/web.xml for changes and redeploys when necessary.
</p>
<h4><span id="Configuring_the_exploded_war" class="mw-headline">Configuring the exploded war</span></h4>
<ul><li> <b>&lt;war&gt;</b> The location of the exploded WAR. This defaults to ${project.build.directory}/${project.build.finalName}, but you can override the default by setting this parameter.</li></ul>
<p>Here's how to set it:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;project<span class="re2">&gt;</span></span></span>
  ...
  <span class="sc3"><span class="re1">&lt;plugins<span class="re2">&gt;</span></span></span>
    ...
      <span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>maven-jetty-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;war<span class="re2">&gt;</span></span></span>${basedir}/target/myfunkywebapp<span class="sc3"><span class="re1">&lt;/war<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/plugins<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/project<span class="re2">&gt;</span></span></span></pre></div></div>
<h3><span class="mw-headline" id="jetty:deploy-war_:_Running_a_pre-assembled_war">jetty:deploy-war  :  Running a pre-assembled war</span></h3>
<p>This is basically the same as jetty:run-war, but without assembling the war of the current module. Unlike run-war, the phase in which this plugin executes is not bound to the "package" phase.
</p><p>For example, you might want to start Jetty on the test-compile phase and stop Jetty on the test-phase.
Here's the configuration for that:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;project<span class="re2">&gt;</span></span></span>
  ...
  <span class="sc3"><span class="re1">&lt;plugins<span class="re2">&gt;</span></span></span>
    ...
      <span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;war<span class="re2">&gt;</span></span></span>${basedir}/target/mycustom.war<span class="sc3"><span class="re1">&lt;/war<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;executions<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;execution<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>start-jetty<span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;phase<span class="re2">&gt;</span></span></span>test-compile<span class="sc3"><span class="re1">&lt;/phase<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;goals<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;goal<span class="re2">&gt;</span></span></span>deploy-war<span class="sc3"><span class="re1">&lt;/goal<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/goals<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;daemon<span class="re2">&gt;</span></span></span>true<span class="sc3"><span class="re1">&lt;/daemon<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;reload<span class="re2">&gt;</span></span></span>manual<span class="sc3"><span class="re1">&lt;/reload<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/execution<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;execution<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>stop-jetty<span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;phase<span class="re2">&gt;</span></span></span>test<span class="sc3"><span class="re1">&lt;/phase<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;goals<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;goal<span class="re2">&gt;</span></span></span>stop<span class="sc3"><span class="re1">&lt;/goal<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/goals<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/execution<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/executions<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/plugins<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/project<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
</p>
<h3><span id="jetty:run-forked_:_Running_an_unassembled_webapp_in_a_separate_jvm" class="mw-headline">jetty:run-forked  :  Running an unassembled webapp in a separate jvm</span></h3>
<p>This goal is new in jetty-7.5.2. You can force jetty to start the webapp in a new jvm, optionally passing arguments to the jvm. Unlike the other goals, this one does not share all the same configuration parameters (although a lot of them are the same, so that you can use many of the goals with the same configuration). The configuration options are:
</p>
<ul><li> <b>&lt;jettyXml&gt;</b> The locations of jetty xml configuration files used to configure the container in the new jvm.</li></ul>
<ul><li> <b>&lt;contextXml&gt;</b> Optional. The location of a context xml file to configure the webapp in the new jvm.</li></ul>
<ul><li> <b>&lt;contextPath&gt;</b> Optional. The context path for the webapp in the new jvm. Defaults to "/${project.artifactId}". This will <i>override</i> a setting inside a &lt;contextXml&gt; file.</li></ul>
<ul><li> <b>&lt;webAppSourceDirectory&gt;</b> Optional. The location of the static resources for your webapp. Defaults to "src/main/webapp". This will <i>override</i> a &lt;Set name="baseResource"&gt; setting inside a &lt;contextXml&gt; file.</li></ul>
<ul><li> <b>&lt;resourceDirs&gt;</b> Optional. New in jetty-7.6.5. An array of directories containing static content that form the resource base for your webapp, in conjuction with the &lt;webAppSourceDirectory&gt;.  See also &lt;baseAppFirst&gt;.</li></ul>
<ul><li> <b>&lt;baseAppFirst&gt;</b> Optional. New in jetty-7.6.5. Defaults to "true". Controls whether the &lt;webAppSourceDirectory&gt; or &lt;resourceDirs&gt; are first on the list of resources that form the base resource for the webapp.</li></ul>
<ul><li> <b>&lt;webXml&gt;</b> Optional. The location of the web.xml file. Defaults to "src/main/webapp/WEB-INF/web.xml". This will <i>override</i> a &lt;Set name="descriptor"&gt; inside a &lt;contextXml&gt; file.</li></ul>
<ul><li> <b>&lt;tmpDirectory&gt;</b> Optional. The location of the temporary work directory. Defaults to "target/tmp". This will <i>override</i> a &lt;Set name="tempDirectory"&gt; inside a &lt;contextXml&gt; file.</li></ul>
<ul><li> <b>&lt;classesDirectory&gt;</b> Optional. The location of the compiled classes for the webapp. Defaults to "${project.build.outputDirectory}"</li></ul>
<ul><li> <b>&lt;testClassesDirectory&gt;</b> Optional. The location of the compiled test classes for the webapp. Defaults to "${project.build.testOutputDirectory}"</li></ul>
<ul><li> <b>&lt;useTestScope&gt;</b> Optional. Defaults to "false". If true, the test classes and dependencies of scope "test" are placed on the webapp's classpath.</li></ul>
<ul><li> <b>&lt;useProvidedScope&gt;</b> Optional. Defaults to "false". If true, the dependencies of scope "provided" are placed on the jetty container's classpath.</li></ul>
<ul><li> <b>&lt;stopPort&gt;</b> Mandatory. A port number for jetty to listen on to receive a stop command to cause it to shutdown. If configured, the stopKey is used to authenticate an incoming stop command.</li></ul>
<ul><li> <b>&lt;stopKey&gt;</b> Mandatory. A string value that has to be sent to the stopPort to authenticate the stop command.</li></ul>
<ul><li> <b>&lt;skip&gt;</b> Optional. Defaults to "false". If true, the execution of this plugin is skipped.</li></ul>
<ul><li> <b>&lt;jvmArgs&gt;</b> Optional. A String representing arbitrary arguments to pass to the forked jvm.</li></ul>
<ul><li> <b>&lt;waitForChild&gt;</b> New in jetty-7.6.5. Optional. Defaults to "true". If true, the parent waits for the exec'ed jetty to complete. If false, the parent completes, leaving the exec'ed jetty process running, in which case you need to use mvn jetty:stop to kill it.</li></ul>
<p><br/>
To deploy your unassembled web app to jetty running in a new jvm:
</p>
<pre>   mvn jetty:run-forked
</pre>
<p>With <b>&lt;waitForChild&gt;true&lt;/waitForChild&gt;</b>:
</p><p>The jetty plugin will continue to execute until either -
</p>
<ul><li> you hit &lt;cntrl-c&gt; in the terminal window to stop the plugin, which will also stop the forked jvm</li></ul>
<p>or
</p>
<ul><li> you use "mvn jetty:stop" to stop the forked jvm, which will also stop the plugin</li></ul>
<p>With <b>&lt;waitForChild&gt;false&lt;/waitForChild&gt;</b>:
</p><p>The jetty plugin will fork the child process and then exit.
</p><p><br/>
NOTE: if you would like to set a custom port, you will need to specify it in a jetty.xml file rather than setting the &lt;connector&gt;&lt;port&gt;&lt;/port&gt;&lt;/connector&gt; tags.  The location of the jetty.xml can be specified using the jettyXml parameter.
</p>
<h3><span class="mw-headline" id="jetty:start_:_Starting_jetty_without_first_executing_the_build_up_to_.22test-compile.22_phase">jetty:start  :  Starting jetty without first executing the build up to "test-compile" phase</span></h3>
<p>This goal is new in jetty-7.6.0. This goal is designed to be used with an execution binding in your pom.xml. It is just like the jetty:run goal, however the difference is that it does NOT first execute the build up until the "test-compile" phase to ensure that all necessary classes and files of the webapp have been generated. This is most useful when you want to control the start and stop of jetty via execution bindings in your pom.xml.
</p><p>For example, you can configure the plugin to start your webapp at the beginning of your unit tests and stop at the end. To do this, you need to set up a couple of <code>&lt;execution&gt;</code> scenarios for the Jetty plugin and use the <code>&lt;daemon&gt;true&lt;/daemon&gt;</code> configuration option to force Jetty to execute only while Maven is running, instead of running indefinitely. You use the <code>pre-integration-test</code> and <code>post-integration-test</code> Maven build phases to trigger the execution and termination of Jetty:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;scanIntervalSeconds<span class="re2">&gt;</span></span></span>10<span class="sc3"><span class="re1">&lt;/scanIntervalSeconds<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;stopKey<span class="re2">&gt;</span></span></span>foo<span class="sc3"><span class="re1">&lt;/stopKey<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;stopPort<span class="re2">&gt;</span></span></span>9999<span class="sc3"><span class="re1">&lt;/stopPort<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;executions<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;execution<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>start-jetty<span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;phase<span class="re2">&gt;</span></span></span>pre-integration-test<span class="sc3"><span class="re1">&lt;/phase<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;goals<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;goal<span class="re2">&gt;</span></span></span>start<span class="sc3"><span class="re1">&lt;/goal<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/goals<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;scanIntervalSeconds<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/scanIntervalSeconds<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;daemon<span class="re2">&gt;</span></span></span>true<span class="sc3"><span class="re1">&lt;/daemon<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/execution<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;execution<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>stop-jetty<span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;phase<span class="re2">&gt;</span></span></span>post-integration-test<span class="sc3"><span class="re1">&lt;/phase<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;goals<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;goal<span class="re2">&gt;</span></span></span>stop<span class="sc3"><span class="re1">&lt;/goal<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/goals<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/execution<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/executions<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Of course, you can use this goal from the command line (mvn jetty:start), however, you need to be sure that all generated classes and files for your webapp are already present first.
</p>
<h2><span class="mw-headline" id="More">More</span></h2>
<h3><span id="Excluded_Goals" class="mw-headline">Excluded Goals</span></h3>
<p>Sometimes, your webapp might simply not be able to work with one of the goals, for example "jetty:run". In this case, use the <b>&lt;excludedGoals&gt;</b> parameter:
</p><p><br/>
</p>
<ul><li> <b>&lt;excludedGoals&gt;</b> <i>Optional</i> Set to a comma separated list of jetty goal names which, if executed, will cause the plugin to print an informative message and exit immediately: </li></ul>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;excludedGoals<span class="re2">&gt;</span></span></span>run,run-exploded<span class="sc3"><span class="re1">&lt;/excludedGoals<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
</p>
<h3><span class="mw-headline" id="Manual_Reload">Manual Reload</span></h3>
<p>Sometimes you may not want jetty to automatically reload and redeploy your webapp when something about it has changed. For example, you may be doing a series of changes and you want to ignore them all until you're done. In that use, use the <b>&lt;reload&gt;</b> parameter:
</p>
<ul><li> <b>&lt;reload&gt;</b> <i>Optional</i> Default value is <b>automatic</b>. If 'manual' then the context can be reloaded by a linefeed in the console. If 'automatic' then traditional reloading on changed files is enabled.</li></ul>
<h3><span class="mw-headline" id="Stopping_the_plugin_from_Another_Terminal_Window">Stopping the plugin from Another Terminal Window</span></h3>
<p>If you want to use <tt>mvn jetty:stop,</tt> you need to configure the plugin with a special port number and key that you also supply by executing the <tt>stop</tt> goal:
</p>
<ul><li> <b>&lt;stopPort&gt;</b> A port number for jetty to listen on to receive a stop command to cause it to shutdown.</li>
<li> <b>&lt;stopKey&gt;</b> A string value that has to be sent to the stopPort to validate the stop command.</li></ul>
<p>Here's a configuration example:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;stopPort<span class="re2">&gt;</span></span></span>9966<span class="sc3"><span class="re1">&lt;/stopPort<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;stopKey<span class="re2">&gt;</span></span></span>foo<span class="sc3"><span class="re1">&lt;/stopKey<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Then, while Jetty is running, type:
</p>
<pre>   mvn jetty:stop
</pre>
<p>The <code>&lt;stopPort&gt;</code> must be free on the machine you are running on. If this is not the case, you get an "Address already in use" error message after the "Started SelectedChannelConnector ..." message.
</p>
<h3><span class="mw-headline" id="Using_mvn_jetty:help_for_More_Help">Using mvn jetty:help for More Help</span></h3>
<p><tt>mvn jetty:help</tt> prints the list of goals for the jetty-maven-plugin, with a description of each goal.
</p><p><tt>mvn jetty:help -Ddetail=true -Dgoal=&lt;goal-name&gt;</tt> prints a list of the settable properties for that goal, in addition to its description.
</p>
<h3><span id="Skipping_execution_of_jetty" class="mw-headline">Skipping execution of jetty</span></h3>
<p>Similarly to the well known system property "mvn.test.skip", you can define the system property "jetty.skip" to prevent jetty running. This is most useful when configuring jetty for execution during integration testing and you want to skip the tests:
</p>
<pre>   mvn -Djetty.skip=true
</pre>
<p>You can also use the <b>&lt;skip&gt;</b> configuration parameter to skip jetty during certain executions (see above).
</p><p><br/>
</p>
<h3><span id="Configuring_Security_Settings" class="mw-headline">Configuring Security Settings</span></h3>
<p>You can configure LoginServices (this was known as UserRealms in Jetty 6) in the plugin. Here's an example of setting up the HashLoginService for a webapp:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;scanIntervalSeconds<span class="re2">&gt;</span></span></span>10<span class="sc3"><span class="re1">&lt;/scanIntervalSeconds<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webAppConfig<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webAppConfig<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;loginServices<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;loginService</span> <span class="re0">implementation</span>=<span class="st0">"org.eclipse.jetty.security.HashLoginService"</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;name<span class="re2">&gt;</span></span></span>Test Realm<span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;config<span class="re2">&gt;</span></span></span>${basedir}/src/etc/realm.properties<span class="sc3"><span class="re1">&lt;/config<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/loginService<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/loginServices<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
</p>
<h3><span class="mw-headline" id="Configuring_Connectors">Configuring Connectors</span></h3>
<p>You can configure a list of org.eclipse.jetty.server.Connector objects for the plugin. If you don't specify any, an NIO org.eclipse.jetty.server.nio.SelectChannelConnector is configured on port 8080. You can change this default port number by using the system property jetty.port on the command line, for example "mvn -Djetty.port=9999 jetty:run". Alternatively, you can specify as many connectors as you like. Here's an example of configuring a connector on a different port number:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;scanIntervalSeconds<span class="re2">&gt;</span></span></span>10<span class="sc3"><span class="re1">&lt;/scanIntervalSeconds<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;connectors<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;connector</span> <span class="re0">implementation</span>=<span class="st0">"org.eclipse.jetty.server.nio.SelectChannelConnector"</span><span class="re2">&gt;</span></span>
          <span class="sc3"><span class="re1">&lt;port<span class="re2">&gt;</span></span></span>9090<span class="sc3"><span class="re1">&lt;/port<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;maxIdleTime<span class="re2">&gt;</span></span></span>60000<span class="sc3"><span class="re1">&lt;/maxIdleTime<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/connector<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;/connectors<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<h3><span id="Using_Overlayed_WARs" class="mw-headline">Using Overlayed WARs</span></h3>
<p>If your webapp depends on other WAR files, the Jetty Maven plugin is able to merge resources from all of them. The merging is fairly simple and does not support exclusions. The ordering of dependencies is important if you have the same resource defined in multiple files. There is no special configuration for this beyond simply declaring the dependencies.
</p><p>For example, suppose our webapp depends on these two WARs:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;dependency<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>com.acme<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>X<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;type<span class="re2">&gt;</span></span></span>war<span class="sc3"><span class="re1">&lt;/type<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/dependency<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;dependency<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>com.acme<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>Y<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;type<span class="re2">&gt;</span></span></span>war<span class="sc3"><span class="re1">&lt;/type<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/dependency<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
Suppose the webapps contain:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">WebAppX:
 
/foo.jsp
/bar.jsp
/WEB-INF/web.xml
 
 
 
WebAppY:
 
/bar.jsp
/baz.jsp
/WEB-INF/web.xml
/WEB-INF/special.xml</pre></div></div>
<p>Then our webapp will have available these additional resources:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="text source-text"><pre class="de1">/foo.jsp (X)
/bar.jsp (X)
/baz.jsp (Y)
/WEB-INF/web.xml (X)
/WEB-INF/sitemesh.xml (Y)</pre></div></div>
<h3><span id="Multiple_webapp_root_directories" class="mw-headline">Multiple webapp root directories</span></h3>
<p>If you have external resources that you want to incorporate in the execution of your webapp - but they're not assembled into wars so you can't use the <b>Overlaid Wars</b> method described above - then you can simply tell jetty the directories in which these external resources are located. At runtime, when jetty receives a request for a resource, it will look along all the locations to retrieve the resource. It's a lot like the overlaid war situation, without the war. Here's a configuration example:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/${build.finalName}<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;baseResource</span> <span class="re0">implementation</span>=<span class="st0">"org.eclipse.jetty.util.resource.ResourceCollection"</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;resourcesAsCSV<span class="re2">&gt;</span></span></span>src/main/webapp,/home/johndoe/path/to/my/other/source,/yet/another/folder<span class="sc3"><span class="re1">&lt;/resourcesAsCSV<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/baseResource<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span></pre></div></div>
<h3><span class="mw-headline" id="Using_GZip_Compression_and_Other_Jetty_Extensions">Using GZip Compression and Other Jetty Extensions</span></h3>
<p>You must be explicit enable GZip compression and other Jetty extensions by adding a dependency on jetty-servlets:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1">      <span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;version<span class="re2">&gt;</span></span></span>7.0.1.v20091125<span class="sc3"><span class="re1">&lt;/version<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
          [...]
        <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dependencies<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;dependency<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.eclipse.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-servlets<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;version<span class="re2">&gt;</span></span></span>7.0.1.v20091125<span class="sc3"><span class="re1">&lt;/version<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/dependency<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/dependencies<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<div class="messagebox" style="background-color: #def3fe; border: 1px solid #c5d7e0; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px;">
<div style="float: left; margin-left: -40px;"><a class="image" href="https://wiki.eclipse.org/File:Note.png"><img alt="Note.png" width="35" height="35" src="../../images/c/cc/Note.png"/></a></div>
<div><b>Setting the groupId</b><br/>Maven by default looks for plugins with a groupId of org.apache.maven.plugins, even if the groupId is declared differently as above. In order to instruct Maven to look for the plugin in the groupId as defined, set a plugin group in a profile in settings.xml like so:
<pre>&lt;profile&gt;
  ...
  &lt;pluginGroups&gt;
    &lt;pluginGroup&gt;org.mortbay.jetty&lt;/pluginGroup&gt;
  &lt;/pluginGroups&gt;
&lt;/profile&gt;
</pre></div>
</div>
<p><br/>
</p>
<h3><span id="Running_more_than_one_webapp" class="mw-headline">Running more than one webapp</span></h3>
<p>You can use either a jetty.xml file to configure extra (pre-compiled) webapps that you wish to deploy, or you can use the <b>contextHandlers</b> configuration element in the jetty plugin <b>configuration</b> to do so. Say you have a webapp A, and you'd also like to deploy webapps B and C in the same jetty instance.
</p><p>Putting the configuration in webapp A's pom.xml:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;scanIntervalSeconds<span class="re2">&gt;</span></span></span>10<span class="sc3"><span class="re1">&lt;/scanIntervalSeconds<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextHandlers<span class="re2">&gt;</span></span></span>           
            <span class="sc3"><span class="re1">&lt;contextHandler</span> <span class="re0">implementation</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
              <span class="sc3"><span class="re1">&lt;war<span class="re2">&gt;</span></span></span>${basedir}../../B.war<span class="sc3"><span class="re1">&lt;/war<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/B<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/contextHandler<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;contextHandler</span> <span class="re0">implementation</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
              <span class="sc3"><span class="re1">&lt;war<span class="re2">&gt;</span></span></span>${basedir}../../C.war<span class="sc3"><span class="re1">&lt;/war<span class="re2">&gt;</span></span></span>
              <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/B<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/contextHandler<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/contextHandlers<span class="re2">&gt;</span></span></span> 
  <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
Alternatively, add a <b>jetty.xml</b> file to webapp A. Copy the <b>jetty.xml</b> file from the jetty distribution, and then add WebAppContexts for the other 2 webapps:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1">   <span class="sc3"><span class="re1">&lt;Ref</span> <span class="re0">id</span>=<span class="st0">"Contexts"</span><span class="re2">&gt;</span></span>
       <span class="sc3"><span class="re1">&lt;Call</span> <span class="re0">name</span>=<span class="st0">"addHandler"</span><span class="re2">&gt;</span></span>
         <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
           <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
             <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"contextPath"</span><span class="re2">&gt;</span></span>/B<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"war"</span><span class="re2">&gt;</span></span>../../B.war<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
           <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/Call<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;Call<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;Arg<span class="re2">&gt;</span></span></span>
           <span class="sc3"><span class="re1">&lt;New</span> <span class="re0">class</span>=<span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span><span class="re2">&gt;</span></span>
             <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"contextPath"</span><span class="re2">&gt;</span></span>/C<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;Set</span> <span class="re0">name</span>=<span class="st0">"war"</span><span class="re2">&gt;</span></span>../../C.war<span class="sc3"><span class="re1">&lt;/Set<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/New<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;/Arg<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/Call<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;/Ref<span class="re2">&gt;</span></span></span></pre></div></div>
<p>Then configure the location of this <b>jetty.xml</b> file into webapp A's jetty plugin:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;scanIntervalSeconds<span class="re2">&gt;</span></span></span>10<span class="sc3"><span class="re1">&lt;/scanIntervalSeconds<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
     <span class="sc3"><span class="re1">&lt;jettyXml<span class="re2">&gt;</span></span></span>src/main/etc/jetty.xml<span class="sc3"><span class="re1">&lt;/jettyXml<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<p>For either of these solutions, the other webapps must already have been built, and they are not automatically monitored for changes. You can refer either to the packed war file of the pre-built webapps or to their expanded equivalents.
</p>
<h3><span id="Setting_System_Properties" class="mw-headline">Setting System Properties</span></h3>
<p>As a convenience, you can specify property name/value pairs that Jetty sets as System properties for the execution of the plugin. NOTE however that some system properties MUST be set on the command line to take effect, as by the time maven runs their values have already been established.
</p><p>NOTE also that configuring logging using this method of setting system properties may not work as the logging system may initialize BEFORE the jetty plugin can set the system properties.
</p><p>You may find it useful instead to use the <a rel="nofollow" class="external text" href="http://mojo.codehaus.org/properties-maven-plugin/">properties maven plugin</a> directly in your pom to set system properties which must be evaluated <i>before</i> any jetty code executes. Eg:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.codehaus.mojo<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>properties-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;version<span class="re2">&gt;</span></span></span>1.0-alpha-2<span class="sc3"><span class="re1">&lt;/version<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;executions<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;execution<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;goals<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;goal<span class="re2">&gt;</span></span></span>set-system-properties<span class="sc3"><span class="re1">&lt;/goal<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/goals<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;properties<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;property<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;name<span class="re2">&gt;</span></span></span>logback.configurationFile<span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;value<span class="re2">&gt;</span></span></span>${project.baseUri}/resources/logback.xml<span class="sc3"><span class="re1">&lt;/value<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/property<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/properties<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/execution<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/executions<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<h4><span class="mw-headline" id="In_the_Pom">In the Pom</span></h4>
<p>Note that if a System property is found that is already set (for example, from the command line or by the JVM itself), then these configured properties DO NOT override them. This feature is useful to tidy up the command line and save a lot of typing. Here's an example:
</p>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;systemProperties<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;systemProperty<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;name<span class="re2">&gt;</span></span></span>fooprop<span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;value<span class="re2">&gt;</span></span></span>222<span class="sc3"><span class="re1">&lt;/value<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/systemProperty<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/systemProperties<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<p><br/>
As of jetty-7.6.5, you CAN cause the system properties defined in the pom to override those on the command line, by using the &lt;force&gt; parameter:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;systemProperties<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;force<span class="re2">&gt;</span></span></span>true<span class="sc3"><span class="re1">&lt;/force<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;systemProperty<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;name<span class="re2">&gt;</span></span></span>fooprop<span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
         <span class="sc3"><span class="re1">&lt;value<span class="re2">&gt;</span></span></span>222<span class="sc3"><span class="re1">&lt;/value<span class="re2">&gt;</span></span></span>
       <span class="sc3"><span class="re1">&lt;/systemProperty<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/systemProperties<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>
<h4><span class="mw-headline" id="In_a_File">In a File</span></h4>
<p>You can also specify your System properties in a file. System properties specified in this way do NOT override System properties that have been set on the command line, by the JVM, or directly in the POM via systemProperties.
</p><p>Here's an example of the file:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">fooprop=222</pre></div></div>
<p>Here's an example of configuring the file for the plugin, although you can instead specify the file by setting the System property (!) <b>jetty.systemPropertiesFile</b> on the command line:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;plugin<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;groupId<span class="re2">&gt;</span></span></span>org.mortbay.jetty<span class="sc3"><span class="re1">&lt;/groupId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;artifactId<span class="re2">&gt;</span></span></span>jetty-maven-plugin<span class="sc3"><span class="re1">&lt;/artifactId<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;systemPropertiesFile<span class="re2">&gt;</span></span></span>${basedir}/mysys.props<span class="sc3"><span class="re1">&lt;/systemPropertiesFile<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;webApp<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;contextPath<span class="re2">&gt;</span></span></span>/test<span class="sc3"><span class="re1">&lt;/contextPath<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/webApp<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/plugin<span class="re2">&gt;</span></span></span></pre></div></div>

<!-- 
NewPP limit report
Cached time: 20211115211128
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.244 seconds
Real time usage: 0.297 seconds
Preprocessor visited node count: 264/1000000
Preprocessor generated node count: 1119/1000000
Post‐expand include size: 32701/2097152 bytes
Template argument size: 30287/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  153.501      1 - -total
 71.77%  110.167      1 - Template:Jetty_Feature
 22.80%   34.999      1 - Template:Important
 13.07%   20.057      4 - Template:Message
 10.05%   15.431      3 - Template:Note
  8.99%   13.798      1 - Template:Jetty
-->

<!-- Saved in parser cache with key my_wiki:pcache:idhash:21209-0!*!*!!en!5!* and timestamp 20211115211127 and revision id 443110
 -->
</div>
                                      <!-- catlinks -->
                    <div class="catlinks" id="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.eclipse.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a title="Category:Jetty" href="https://wiki.eclipse.org/Category:Jetty">Jetty</a></li><li><a title="Category:Jetty Feature" href="https://wiki.eclipse.org/Category:Jetty_Feature">Jetty Feature</a></li></ul></div></div>                     <!-- /catlinks -->
                                  </div>
              </div>
            </div>
          </div>
</body>
</html>
