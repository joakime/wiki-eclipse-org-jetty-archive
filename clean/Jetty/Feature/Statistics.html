<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Jetty WTP Plugin</title>
    <link href="wiki-style.css" media="screen, print" rel="stylesheet" />
  </head>
  <body>
    <div class="col-md-20" id="mainContent">
      <div class="tab-content background-white">
        <div class="tab-pane active" id="tab-pane-main-page-content">
          <h1 class="firstHeading page-header" id="firstHeading">
            <span dir="auto">Jetty/Feature/Statistics</span>
          </h1>
          <div id="main-page-content">
            <div class="alert alert-small alert-warning" id="contentSub">
              <span class="subpages">
                &lt;
                <a href="../../Jetty.html" title="Jetty">Jetty</a>
                â€Ž |
                <a href="../Feature.html" title="Jetty/Feature">Feature</a>
              </span>
            </div>
            <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
              <p>
                <br />
              </p>
              <p>
                <br />
              </p>
              <div class="toc" id="toc">
                <div id="toctitle">
                  <h2>Contents</h2>
                </div>
                <ul>
                  <li class="toclevel-1">
                    <a href="Statistics.html#Introduction">
                      <span class="tocnumber">1</span>
                      <span class="toctext">Introduction</span>
                    </a>
                  </li>
                  <li class="toclevel-1">
                    <a href="Statistics.html#Feature">
                      <span class="tocnumber">2</span>
                      <span class="toctext">Feature</span>
                    </a>
                    <ul>
                      <li class="toclevel-2">
                        <a href="Statistics.html#Connector_statistics">
                          <span class="tocnumber">2.1</span>
                          <span class="toctext">Connector statistics</span>
                        </a>
                      </li>
                      <li class="toclevel-2">
                        <a href="Statistics.html#Request_Statistics">
                          <span class="tocnumber">2.2</span>
                          <span class="toctext">Request Statistics</span>
                        </a>
                      </li>
                      <li class="toclevel-2">
                        <a href="Statistics.html#Session_Statistics">
                          <span class="tocnumber">2.3</span>
                          <span class="toctext">Session Statistics</span>
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class="toclevel-1">
                    <a href="Statistics.html#Additional_Resources">
                      <span class="tocnumber">3</span>
                      <span class="toctext">Additional Resources</span>
                    </a>
                  </li>
                </ul>
              </div>
              <h2>
                <span class="mw-headline" id="Introduction">Introduction</span>
              </h2>
              <div class="messagebox" style="background-color: #f9f6b7; border: 1px solid #c4c295; color: black; padding: 5px; margin: 1ex 0; min-height: 35px; padding-left: 45px; font-size: 150%; color: white; background-color: #FF8888; padding: 50px">
                <div style="float: left; margin-left: -40px;">
                  <a class="image" href="https://wiki.eclipse.org/File:Warning2.png">
                    <img alt="Warning2.png" height="35" src="../../images/3/37/Warning2.png" width="35" />
                  </a>
                </div>
                <div>
                  Jetty 7 and Jetty 8 are now EOL (End of Life)
                  <br />
                  <p>
                    <br />
                    <br />
                    <br />
                    THIS IS NOT THE DOCUMENTATION YOU ARE LOOKING FOR!!!!!
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    All development and stable releases are being performed with Jetty 9 and Jetty 10.
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    This
                    <b>wiki is now officially out of date</b>
                    and all content has been moved to the
                    <a class="external text" href="http://www.eclipse.org/jetty/documentation" rel="nofollow">Jetty Documentation Hub</a>
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                  </p>
                </div>
                <p>
                  <br />
                  Jetty currently has two levels of request statistic collection:
                </p>
                <ul>
                  <li>
                    Subclasses of
                    <a class="external text" href="http://dev.eclipse.org/viewcvs/index.cgi/jetty/trunk/jetty-server/src/main/java/org/eclipse/jetty/server/AbstractConnector.java?root=RT_Jetty&amp;view=markup" rel="nofollow">AbstractConnector</a>
                    class optionally can collect statistics about connections as well as number of requests.
                  </li>
                  <li>
                    The
                    <a class="external text" href="http://dev.eclipse.org/viewcvs/index.cgi/jetty/trunk/jetty-server/src/main/java/org/eclipse/jetty/server/handler/StatisticsHandler.java?root=RT_Jetty&amp;view=markup" rel="nofollow">StatisticsHandler</a>
                    class may be used to collect request statistics.
                  </li>
                </ul>
                <p>
                  In addition to that, subclasses of
                  <a class="external text" href="http://dev.eclipse.org/viewcvs/index.cgi/jetty/trunk/jetty-server/src/main/java/org/eclipse/jetty/server/session/AbstractSessionManager.java?revision=1213&amp;root=RT_Jetty&amp;view=markup" rel="nofollow">AbstractSessionHandler</a>
                  class optionally can collect session statistics.
                </p>
                <p>AbstractConnector and AbstractSessionHandler statistics are turned off by default and must either be configured manually for each instance or turned on via JMX interface. The Statistics Handler is not included in default Jetty configuration, and needs to be configured manually.</p>
                <p>To view statistics, you have to be able to connect to Jetty using either JConsole or some other JMX agent.</p>
                <h2>
                  <span class="mw-headline" id="Feature">Feature</span>
                </h2>
                <h3>
                  <span class="mw-headline" id="Connector_statistics">Connector statistics</span>
                </h3>
                <p>
                  Detailed statistics on connection duration and number of requests are only collated when a connection is closed. The current and maximum number of connections are the only "live" statistics.  To learn how to turn on connector statistics please see
                  <a href="../Tutorial/Statistics.html" title="Jetty/Tutorial/Statistics">Jetty Statistics tutorial</a>
                  , although this is not recommended and it is best to use a JMX agent to select statistics only when needed.
                </p>
                <h3>
                  <span class="mw-headline" id="Request_Statistics">Request Statistics</span>
                </h3>
                <p>
                  To collect request statistics a
                  <a class="external text" href="http://download.eclipse.org/jetty/stable-8/apidocs/org/eclipse/jetty/server/handler/StatisticsHandler.html" rel="nofollow">StatisticsHandler</a>
                  must be configured as one of the handlers of the server. Typically this can be done as the top level handler, but you may choose to configure a statistics handler for just one context by creating a context configuration file. To learn how to configure a top level statistics handler, please see
                  <a href="../Tutorial/Statistics.html" title="Jetty/Tutorial/Statistics">Jetty Statistics tutorial</a>
                  .
                </p>
                <h3>
                  <span class="mw-headline" id="Session_Statistics">Session Statistics</span>
                </h3>
                <p>Session handling is built into Jetty for any servlet or webapp context. Detailed statistics on session duration are only collated when a session is closed. The current, minimum, and maximum number of sessions are the only "live" statistics. The session statistics are enabled by default and do not need to be configured.</p>
                <h2>
                  <span class="mw-headline" id="Additional_Resources">Additional Resources</span>
                </h2>
                <p>
                  See
                  <a href="../Tutorial/JMX.html" title="Jetty/Tutorial/JMX">Jetty JMX tutorial</a>
                  for instructions on how to configure Jetty JMX integration.
                </p>
              </div>
              <div class="catlinks" id="catlinks">
                <div class="mw-normal-catlinks" id="mw-normal-catlinks">
                  <a href="https://wiki.eclipse.org/Special:Categories" title="Special:Categories">Categories</a>
                  :
                  <ul>
                    <li>
                      <a href="https://wiki.eclipse.org/Category:Jetty" title="Category:Jetty">Jetty</a>
                    </li>
                    <li>
                      <a href="https://wiki.eclipse.org/Category:Jetty_Feature" title="Category:Jetty Feature">Jetty Feature</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
