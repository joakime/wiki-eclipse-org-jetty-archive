<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Jetty WTP Plugin</title>
    <link href="wiki-style.css" media="screen, print" rel="stylesheet" />
  </head>
  <body>
    <div class="col-md-20" id="mainContent">
      <div class="tab-content background-white">
        <div class="tab-pane active" id="tab-pane-main-page-content">
          <h1 class="firstHeading page-header" id="firstHeading">
            <span dir="auto">Jetty/Howto/SessionIds</span>
          </h1>
          <div id="main-page-content">
            <div class="alert alert-small alert-warning" id="contentSub">
              <span class="subpages">
                &lt;
                <a href="../../Jetty.html" title="Jetty">Jetty</a>
                â€Ž |
                <a href="../Howto.html" title="Jetty/Howto">Howto</a>
              </span>
            </div>
            <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
              <p>
                <br />
              </p>
              <p>
                <br />
              </p>
              <div class="toc" id="toc">
                <div id="toctitle">
                  <h2>Contents</h2>
                </div>
                <ul>
                  <li class="toclevel-1">
                    <a href="SessionIds.html#Introduction">
                      <span class="tocnumber">1</span>
                      <span class="toctext">Introduction</span>
                    </a>
                  </li>
                  <li class="toclevel-1">
                    <a href="SessionIds.html#Steps">
                      <span class="tocnumber">2</span>
                      <span class="toctext">Steps</span>
                    </a>
                    <ul>
                      <li class="toclevel-2">
                        <a href="SessionIds.html#Init_Parameters">
                          <span class="tocnumber">2.1</span>
                          <span class="toctext">Init Parameters</span>
                        </a>
                      </li>
                      <li class="toclevel-2">
                        <a href="SessionIds.html#Example">
                          <span class="tocnumber">2.2</span>
                          <span class="toctext">Example</span>
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class="toclevel-1">
                    <a href="SessionIds.html#Additional_Resources">
                      <span class="tocnumber">3</span>
                      <span class="toctext">Additional Resources</span>
                    </a>
                  </li>
                </ul>
              </div>
              <h2>
                <span class="mw-headline" id="Introduction">Introduction</span>
              </h2>
              <p>
                <br />
                The following configuration can be applied to modify the session characteristics of a web application:
              </p>
              <p>
                <br />
              </p>
              <h2>
                <span class="mw-headline" id="Steps">Steps</span>
              </h2>
              <h3>
                <span class="mw-headline" id="Init_Parameters">Init Parameters</span>
              </h3>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <b>Context Parameter Name</b>
                    </td>
                    <td>
                      <b>Default Value</b>
                    </td>
                    <td>
                      <b>Description</b>
                    </td>
                  </tr>
                  <tr>
                    <td>org.eclipse.jetty.servlet.SessionCookie</td>
                    <td>JSESSIONID</td>
                    <td>Session cookie name defaults to JSESSIONID, but can be set for a particular webapp with this context param.</td>
                  </tr>
                  <tr>
                    <td>org.eclipse.jetty.servlet.SessionIdPathParameterName</td>
                    <td>jsessionid</td>
                    <td>Session URL parameter name. Defaults to jsessionid, but can be set for a particular webapp with this context param. Set to "none" to disable URL rewriting.</td>
                  </tr>
                  <tr>
                    <td>org.eclipse.jetty.servlet.SessionDomain</td>
                    <td>-</td>
                    <td>Session Domain. If this property is set as a ServletContext param, then it is used as the domain for session cookies.If it is not set, then no domain is specified for the session cookie.</td>
                  </tr>
                  <tr>
                    <td>org.eclipse.jetty.servlet.SessionPath</td>
                    <td>-</td>
                    <td>Session Path. If this property is set as a ServletContext param, then it is used as the path for the session cookie. If it is not set, then the context path is used as the path for the cookie.</td>
                  </tr>
                  <tr>
                    <td>org.eclipse.jetty.servlet.MaxAge</td>
                    <td>-1</td>
                    <td>Session Max Age. If this property is set as a ServletContext param, then it is used as the max age for the session cookie. If it is not set, then a max age of -1 is used.</td>
                  </tr>
                  <tr>
                    <td>org.eclipse.jetty.servlet.CheckingRemoteSessionIdEncoding</td>
                    <td>false</td>
                    <td />
                  </tr>
                </tbody>
              </table>
              <h3>
                <span class="mw-headline" id="Example">Example</span>
              </h3>
              <p>
                The above can either be set as &lt;context-param&gt;s in a web application's
                <tt>WEB-INF/web.xml</tt>
                file like so:
              </p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="xml source-xml">
                  <pre class="de1">
                    <span class="sc3">
                      <span class="re1">&lt;?xml</span>
                      <span class="re0">version</span>
                      =
                      <span class="st0">"1.0"</span>
                      <span class="re0">encoding</span>
                      =
                      <span class="st0">"ISO-8859-1"</span>
                      <span class="re2">?&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;web-app</span>
                    </span>
                    <span class="sc3">
                      <span class="re0">xmlns</span>
                      =
                      <span class="st0">"http://java.sun.com/xml/ns/javaee"</span>
                    </span>
                    <span class="sc3">
                      <span class="re0">xmlns:xsi</span>
                      =
                      <span class="st0">"http://www.w3.org/2001/XMLSchema-instance"</span>
                    </span>
                    <span class="sc3">
                      <span class="re0">xsi:schemaLocation</span>
                      =
                      <span class="st0">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span>
                    </span>
                    <span class="sc3">
                      <span class="re0">version</span>
                      =
                      <span class="st0">"2.5"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    ...
                    <span class="sc3">
                      <span class="re1">
                        &lt;context-param
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;param-name
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    org.eclipse.jetty.servlet.SessionCookie
                    <span class="sc3">
                      <span class="re1">
                        &lt;/param-name
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;param-value
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    XSESSIONID
                    <span class="sc3">
                      <span class="re1">
                        &lt;/param-value
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/context-param
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;context-param
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;param-name
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    org.eclipse.jetty.servlet.SessionIdPathParameterName
                    <span class="sc3">
                      <span class="re1">
                        &lt;/param-name
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;param-value
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    xsessionid
                    <span class="sc3">
                      <span class="re1">
                        &lt;/param-value
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/context-param
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    ...
                    <span class="sc3">
                      <span class="re1">
                        &lt;/web-app
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                  </pre>
                </div>
              </div>
              <p>or, they can be configured on a web application, either in code, or in a Jetty context xml file equivalent:</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="xml source-xml">
                  <pre class="de1">
                    <span class="sc3">
                      <span class="re1">&lt;Configure</span>
                      <span class="re0">class</span>
                      =
                      <span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Set</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"contextPath"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    /test
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Set
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Set</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"war"</span>
                      <span class="re2">&gt;</span>
                      <span class="re1">&lt;SystemProperty</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"jetty.home"</span>
                      <span class="re0">default</span>
                      =
                      <span class="st0">"."</span>
                      <span class="re2">/&gt;</span>
                    </span>
                    /webapps/test
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Set
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    ...
                    <span class="sc3">
                      <span class="re1">&lt;Call</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"setInitParameter"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    org.eclipse.jetty.servlet.SessionCookie
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    XSESSIONID
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Call
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Call</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"setInitParameter"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    org.eclipse.jetty.servlet.SessionIdPathParameterName
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    xsessionid
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Arg
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Call
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Configure
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                  </pre>
                </div>
              </div>
              <p>or they can be configured directly on a SessionManager instance, either in code or the equivalent in xml:</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="xml source-xml">
                  <pre class="de1">
                    <span class="sc3">
                      <span class="re1">&lt;Configure</span>
                      <span class="re0">class</span>
                      =
                      <span class="st0">"org.eclipse.jetty.webapp.WebAppContext"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Set</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"contextPath"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    /test
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Set
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Set</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"war"</span>
                      <span class="re2">&gt;</span>
                      <span class="re1">&lt;SystemProperty</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"jetty.home"</span>
                      <span class="re0">default</span>
                      =
                      <span class="st0">"."</span>
                      <span class="re2">/&gt;</span>
                    </span>
                    /webapps/test
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Set
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    ...
                    <span class="sc3">
                      <span class="re1">&lt;Get</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"sessionHandler"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Set</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"sessionManager"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;New</span>
                      <span class="re0">class</span>
                      =
                      <span class="st0">"org.eclipse.jetty.server.session.HashSessionManager"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Set</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"sessionCookie"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    XSESSIONID
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Set
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">&lt;Set</span>
                      <span class="re0">name</span>
                      =
                      <span class="st0">"sessionIdPathParameterName"</span>
                      <span class="re2">&gt;</span>
                    </span>
                    xsessionid
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Set
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/New
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Set
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Get
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                    <span class="sc3">
                      <span class="re1">
                        &lt;/Configure
                        <span class="re2">&gt;</span>
                      </span>
                    </span>
                  </pre>
                </div>
              </div>
              <p>
                To see more about params look at the class org.eclipse.jetty.server.SessionManager source :
                <a class="external free" href="http://download.eclipse.org/jetty/stable-7/xref/org/eclipse/jetty/server/SessionManager.html" rel="nofollow">http://download.eclipse.org/jetty/stable-7/xref/org/eclipse/jetty/server/SessionManager.html</a>
              </p>
              <p>
                <br />
              </p>
              <p>
                <br />
              </p>
              <p>
                <br />
              </p>
              <h2>
                <span class="mw-headline" id="Additional_Resources">Additional Resources</span>
              </h2>
              <p>
                For more information, please see the
                <a class="new" href="edit" title="Jetty/Feature/Session Clustering (page does not exist)">Session Clustering</a>
                tutorial.
              </p>
            </div>
            <div class="catlinks" id="catlinks">
              <div class="mw-normal-catlinks" id="mw-normal-catlinks">
                <a href="https://wiki.eclipse.org/Special:Categories" title="Special:Categories">Categories</a>
                :
                <ul>
                  <li>
                    <a href="https://wiki.eclipse.org/Category:Jetty" title="Category:Jetty">Jetty</a>
                  </li>
                  <li>
                    <a href="https://wiki.eclipse.org/Category:Jetty_Howto" title="Category:Jetty Howto">Jetty Howto</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
